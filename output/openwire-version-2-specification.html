<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ActiveMQ</title>
    <link rel="icon" type="image/png" href="/assets/img/favicon.png">

    <link rel="stylesheet" href="/css/main.css">
    <script defer src="/js/fontawesome-v5.0.8-all.js" integrity="sha384-SlE991lGASHoBfWbelyBPLsUlwY1GwNDJo3jSJO04KZ33K2bwfV9YBauFfnzvynJ"></script>
    <script src="/js/jquery-3.6.1.slim.min.js" integrity="sha384-MYL22lstpGhSa4+udJSGro5I+VfM13fdJfCbAzP9krCEoK5r2EDFdgTg2+DGXdj+"></script>
    <script src="/js/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"></script>
    <script src="/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"></script>
</head>

<body>
<nav class="navbar navbar-expand-lg navbar-light fixed-top">
    <div class="container">
        <!-- <a class="navbar-brand mr-auto" href="#"><img style="height: 50px" src="assets/img/apache-feather.png" /></a> -->
        <a class="navbar-brand mr-auto" href="/"><img src="/assets/img/activemq_logo_black_small.png" style="height: 50px"/></a>
        <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="ml-auto collapse navbar-collapse" id="navbarContent">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link active" href="/news">News</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link" id="navbarDropdownComponents" data-target="#" href="" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Components<span class="caret"></span></a>
                    <ul class="dropdown-menu dropdown-menu-center" aria-labelledby="navbarDropdownComponents">
                        <div class="row">
                            <div class="col-12">
                                <ul class="multi-column-dropdown">
                                    <li class="nav-item"><a class="dropdown-item" href="/components/classic">ActiveMQ Classic</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="/components/artemis/">ActiveMQ Artemis</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="/components/nms">NMS Clients</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="/components/cms">CMS Client</a></li>
                                </ul>
                            </div>
                        </div>
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link" id="navbarDropdownCommunity" data-target="#" href="" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Community<span class="caret"></span></a>
                    <ul class="dropdown-menu dropdown-menu-center multi-column columns-1" aria-labelledby="navbarDropdownCommunity">
                        <div class="row">
                            <div class="col-12">
                                <ul class="multi-column-dropdown">
                                    <li class="nav-item"><a class="dropdown-item" href="/contact">Contact Us</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="/contributing">Contribute</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="/issues">Report Issues</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="/support">Get Support</a></li>
                                </ul>
                            </div>
                          </div>
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link" id="navbarDropdownTeam" data-target="#" href="" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img src="/assets/img/feather.png" style="height:20px">Apache<span class="caret"></span></a>
                    <ul class="dropdown-menu dropdown-menu-center multi-column columns-1" aria-labelledby="navbarDropdownTeam">
                        <div class="row">
                            <div class="col-sm-12">
                                <ul class="multi-column-dropdown">
                                    <li class="nav-item"><a class="dropdown-item" href="https://www.apache.org">The Apache Software Foundation</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="https://www.apache.org/licenses/">License</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="/security-advisories">Security</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="https://www.apache.org/events/current-event">Events</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="https://people.apache.org/phonebook.html?pmc=activemq">PMC & Committers</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="https://whimsy.apache.org/board/minutes/ActiveMQ.html">Board Reports</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="https://privacy.apache.org/policies/privacy-policy-public.html">Privacy Policy</a></li>
                                </ul>
                            </div>
                        </div>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div class="content">
  <div class="page-title-activemq5">
    <div class="container">
      <h1>OpenWire Version 2 Specification</h1>
    </div>
  </div>
  <div class="container" >
    <div class="row" style="margin-top: 30px">
      <div class="col-12 activemq5">
        <p><a href="connectivity">Connectivity</a> &gt; <a href="protocols">Protocols</a> &gt; <a href="openwire">OpenWire</a> &gt; <a href="openwire-version-2-specification">OpenWire Version 2 Specification</a></p>

<blockquote>
  <p><strong>OpenWire Version 2 is not the latest version.</strong></p>

  <p>This article references OpenWire V2 which is no longer the latest version. The formatting and encoding rules in this article are still valid for later OpenWire versions, but later versions define additional fields in the OpenWire commands. The default settings shown in this article may not reflect the current defaults, see <a href="configuring-wire-formats">this page</a> for the latest default OpenWire settings.</p>
</blockquote>

<h2 id="overview">Overview</h2>

<p>OpenWire is used to marshal objects to byte arrays and back. We will refer to the marshaled objects as commands.</p>

<p>A TCP network connection would see multiple commands back to back on the stream. Commands are not delimited in anyway and are variable sized.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>+---------+  +---------+      +---------+
| command |  | command | .... | command |
+---------+  +---------+      +---------+
</code></pre></div></div>
<p>All data primitive types used in the encoded commands are encoded in big-endian/network byte order.</p>

<p>primitive types and encoding:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>             |               |               |               |               |               |               
+----------+ | +-----------+ | +-----------+ | +-----------+ | +-----------+ | +-----------+ | +-----------+ 
| byte     | | | char      | | | short     | | | int       | | | long      | | | float     | | | double    | 
+----------+ | +-----------+ | +-----------+ | +-----------+ | +-----------+ | +-----------+ | +-----------+ 
| 1 octect | | | 2 octects | | | 2 octects | | | 4 octects | | | 8 octects | | | 4 octects | | | 8 octects | 
+----------+ | +-----------+ | +-----------+ | +-----------+ | +-----------+ | +-----------+ | +-----------+ 
             |               |               |               |               |               |               
</code></pre></div></div>

<h2 id="wire-format-negotiation">Wire Format Negotiation</h2>

<p>OpenWire is an extensible in that it supports adding new encoding options while still being backward compatible with previous versions of the protocol. Every OpenWire protocol session initially starts with all encoding options turned off and at version 1 of command marshalers. An initial WIREFORMAT_INFO command is exchanged between the two nodes so that additional encoding features can be enabled. If both sides request an encoding feature to be enabled then it will be enabled. The command marshalers used will be the highest version that they both support.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>+-------------------------+ +---------+  +---------+      +---------+
| WIREFORMAT_INFO command | | command |  | command | .... | command |
+-------------------------+ +---------+  +---------+      +---------+
</code></pre></div></div>

<h2 id="command-encoding">Command Encoding</h2>

<p>Every command is encoded as follows:</p>

<p>command encoding:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[=If SizePrefixDisabled =] 
[ option is not enabled. ]
[ +------+               ] +------+-------------------------+
[ | size |               ] | type | command-specific-fields |
[ +------+               ] +------+-------------------------+
[ | int  |               ] | byte | (size-1) octects        |
[ +------+               ] +------+-------------------------+
[========================]
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>size</td>
      <td>Holds how many subsequent bytes are in the the command</td>
    </tr>
    <tr>
      <td>type</td>
      <td>Command type identifier</td>
    </tr>
    <tr>
      <td>command-specific-fields</td>
      <td>The data for the command. It is encoding depends on the type used</td>
    </tr>
  </tbody>
</table>

<p>If a command type does not have any command specific content, then size would be 1.</p>

<p>Prefixing the size on every command is done to aid in non-blocking IO processing so that receiver can easily determine when a whole command has been received and can be processed. But finding out the size of command takes additional buffering on the sender size and is not needed if the receiver is doing blocking IO. If the SizePrefixDisabled option is enabled after the exchange of WIREFORMAT_INFO packets, then every subsequent command will not have the size prefixed.</p>

<h2 id="command-types">Command Types</h2>

<table>
  <thead>
    <tr>
      <th>Type Identifier</th>
      <th>Command</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>WIREFORMAT_INFO</td>
    </tr>
    <tr>
      <td>2</td>
      <td>BROKER_INFO</td>
    </tr>
    <tr>
      <td>3</td>
      <td>CONNECTION_INFO</td>
    </tr>
    <tr>
      <td>4</td>
      <td>SESSION_INFO</td>
    </tr>
    <tr>
      <td>5</td>
      <td>CONSUMER_INFO</td>
    </tr>
    <tr>
      <td>6</td>
      <td>PRODUCER_INFO</td>
    </tr>
    <tr>
      <td>7</td>
      <td>TRANSACTION_INFO</td>
    </tr>
    <tr>
      <td>8</td>
      <td>DESTINATION_INFO</td>
    </tr>
    <tr>
      <td>9</td>
      <td>REMOVE_SUBSCRIPTION_INFO</td>
    </tr>
    <tr>
      <td>10</td>
      <td>KEEP_ALIVE_INFO</td>
    </tr>
    <tr>
      <td>11</td>
      <td>SHUTDOWN_INFO</td>
    </tr>
    <tr>
      <td>12</td>
      <td>REMOVE_INFO</td>
    </tr>
    <tr>
      <td>14</td>
      <td>CONTROL_COMMAND</td>
    </tr>
    <tr>
      <td>15</td>
      <td>FLUSH_COMMAND</td>
    </tr>
    <tr>
      <td>16</td>
      <td>CONNECTION_ERROR</td>
    </tr>
    <tr>
      <td>17</td>
      <td>CONSUMER_CONTROL</td>
    </tr>
    <tr>
      <td>18</td>
      <td>CONNECTION_CONTROL</td>
    </tr>
    <tr>
      <td>21</td>
      <td>MESSAGE_DISPATCH</td>
    </tr>
    <tr>
      <td>22</td>
      <td>MESSAGE_ACK</td>
    </tr>
    <tr>
      <td>23</td>
      <td>ACTIVEMQ_MESSAGE</td>
    </tr>
    <tr>
      <td>24</td>
      <td>ACTIVEMQ_BYTES_MESSAGE</td>
    </tr>
    <tr>
      <td>25</td>
      <td>ACTIVEMQ_MAP_MESSAGE</td>
    </tr>
    <tr>
      <td>26</td>
      <td>ACTIVEMQ_OBJECT_MESSAGE</td>
    </tr>
    <tr>
      <td>27</td>
      <td>ACTIVEMQ_STREAM_MESSAGE</td>
    </tr>
    <tr>
      <td>28</td>
      <td>ACTIVEMQ_TEXT_MESSAGE</td>
    </tr>
    <tr>
      <td>30</td>
      <td>RESPONSE</td>
    </tr>
    <tr>
      <td>31</td>
      <td>EXCEPTION_RESPONSE</td>
    </tr>
    <tr>
      <td>32</td>
      <td>DATA_RESPONSE</td>
    </tr>
    <tr>
      <td>33</td>
      <td>DATA_ARRAY_RESPONSE</td>
    </tr>
    <tr>
      <td>34</td>
      <td>INTEGER_RESPONSE</td>
    </tr>
    <tr>
      <td>40</td>
      <td>DISCOVERY_EVENT</td>
    </tr>
    <tr>
      <td>50</td>
      <td>JOURNAL_ACK</td>
    </tr>
    <tr>
      <td>52</td>
      <td>JOURNAL_REMOVE</td>
    </tr>
    <tr>
      <td>53</td>
      <td>JOURNAL_TRACE</td>
    </tr>
    <tr>
      <td>54</td>
      <td>JOURNAL_TRANSACTION</td>
    </tr>
    <tr>
      <td>55</td>
      <td>DURABLE_SUBSCRIPTION_INFO</td>
    </tr>
    <tr>
      <td>60</td>
      <td>PARTIAL_COMMAND</td>
    </tr>
    <tr>
      <td>61</td>
      <td>PARTIAL_LAST_COMMAND</td>
    </tr>
    <tr>
      <td>65</td>
      <td>REPLAY</td>
    </tr>
    <tr>
      <td>70</td>
      <td>BYTE_TYPE</td>
    </tr>
    <tr>
      <td>71</td>
      <td>CHAR_TYPE</td>
    </tr>
    <tr>
      <td>72</td>
      <td>SHORT_TYPE</td>
    </tr>
    <tr>
      <td>73</td>
      <td>INTEGER_TYPE</td>
    </tr>
    <tr>
      <td>74</td>
      <td>LONG_TYPE</td>
    </tr>
    <tr>
      <td>75</td>
      <td>DOUBLE_TYPE</td>
    </tr>
    <tr>
      <td>76</td>
      <td>FLOAT_TYPE</td>
    </tr>
    <tr>
      <td>77</td>
      <td>STRING_TYPE</td>
    </tr>
    <tr>
      <td>78</td>
      <td>BOOLEAN_TYPE</td>
    </tr>
    <tr>
      <td>79</td>
      <td>BYTE_ARRAY_TYPE</td>
    </tr>
    <tr>
      <td>90</td>
      <td>MESSAGE_DISPATCH_NOTIFICATION</td>
    </tr>
    <tr>
      <td>91</td>
      <td>NETWORK_BRIDGE_FILTER</td>
    </tr>
    <tr>
      <td>100</td>
      <td>ACTIVEMQ_QUEUE</td>
    </tr>
    <tr>
      <td>101</td>
      <td>ACTIVEMQ_TOPIC</td>
    </tr>
    <tr>
      <td>102</td>
      <td>ACTIVEMQ_TEMP_QUEUE</td>
    </tr>
    <tr>
      <td>103</td>
      <td>ACTIVEMQ_TEMP_TOPIC</td>
    </tr>
    <tr>
      <td>110</td>
      <td>MESSAGE_ID</td>
    </tr>
    <tr>
      <td>111</td>
      <td>ACTIVEMQ_LOCAL_TRANSACTION_ID</td>
    </tr>
    <tr>
      <td>112</td>
      <td>ACTIVEMQ_XA_TRANSACTION_ID</td>
    </tr>
    <tr>
      <td>120</td>
      <td>CONNECTION_ID</td>
    </tr>
    <tr>
      <td>121</td>
      <td>SESSION_ID</td>
    </tr>
    <tr>
      <td>122</td>
      <td>CONSUMER_ID</td>
    </tr>
    <tr>
      <td>123</td>
      <td>PRODUCER_ID</td>
    </tr>
    <tr>
      <td>124</td>
      <td>BROKER_ID</td>
    </tr>
  </tbody>
</table>

<h3 id="command-field-encoding">Command Field Encoding</h3>

<p>All OpenWire commands use the same algorithm when encoding their fields. The algorithm restricts commands to use fields that are of the following type:</p>

<ul>
  <li>Java primitive types</li>
  <li>String</li>
  <li>Byte Arrays</li>
  <li>N Sized Byte Arrays</li>
  <li>Throwable</li>
  <li>Nested OpenWire commands</li>
  <li>Nested OpenWire command arrays</li>
  <li>Cached Nested OpenWire commands</li>
</ul>

<p>Notice that OpenWire commands can nest other OpenWire commands in it’s fields. Care must be taken that only acyclic graphs of commands are marshaled.</p>

<h4 id="string-type-encoding">String Type Encoding</h4>

<p>Strings fields may be null. If it is null then it encodes to a single “0” byte.</p>

<p>string encoding:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>             [=If not-null is 1===========]
+----------+ [ +-------+----------------+ ]
| not-null | [ | size  | encoded-string | ]
+----------+ [ +-------+----------------+ ]
| byte     | [ | short | size octects   | ]
+----------+ [ +-------+----------------+ ]
             [============================]
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>not-null</td>
      <td>1 if the string is not null, 0 if the string is null</td>
    </tr>
    <tr>
      <td>size</td>
      <td>The number of bytes of the UTF-8 Encoded string</td>
    </tr>
    <tr>
      <td>encoded-string</td>
      <td>The UTF-8 encoded form of the string</td>
    </tr>
  </tbody>
</table>

<h3 id="byte-array-type-encoding">Byte Array Type Encoding</h3>

<p>Byte array fields may be null. If it is null then it encodes to a single “0” byte.</p>

<p>byte-array encoding:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>             [=If not-null is 1========]
+----------+ [ +------+--------------+ ]
| not-null | [ | size | data         | ]
+----------+ [ +------+--------------+ ]
| byte     | [ | int  | size octects | ]
+----------+ [ +------+--------------+ ]
             [=========================]
</code></pre></div></div>
<p>Field|Description
—|—
not-null|1 if the byte array is not null, 0 if it is null
size|The number of bytes in the byte array
data|The data of the byte array</p>

<h3 id="n-sized-byte-array-type-encoding">N Sized Byte Array Type Encoding</h3>

<p>Fixed Size Byte array fields may NOT be null and their length must be N length. Used for byte arrays that are always a fixed size.</p>

<p>N-sized-byte-array encoding:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>+-----------+
| data      |
+-----------+
| N octects |
+-----------+
</code></pre></div></div>
<p>Field|Description
—|—
data|The data of the byte array</p>

<h3 id="throwable-type-encoding">Throwable Type Encoding</h3>

<p>Throwable fields may be null. If it is null then it encodes to a single “0” byte.</p>

<p>throwable encoding:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>             [=If not-null is 1===========================================================================]
             [                               [=If StackTraceEnabled option is enabled.==================] ]
             [                               [             [=Repeated size times======================] ] ]
+----------+ [ +----------------+---------+  [ +-------+ [ +--------+--------+--------+-------------+ ] ] ]
| not-null | [ | exception-name | message |  [ | size  | [ | class  | method | file   | line-number | ] ] ]
+----------+ [ +----------------+---------+  [ +-------+ [ +--------+--------+--------+-------------+ ] ] ]
| byte     | [ | string         | string  |  [ | short | [ | string | string | string | int         | ] ] ]
+----------+ [ +----------------+---------+  [ +-------+ [ +--------+--------+--------+-------------+ ] ] ]
             [                               [           [============================================] ] ]
             [                               [==========================================================] ]
             [============================================================================================]
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>not-null</td>
      <td>1 if the Throwable not null, 0 if the Throwable is null</td>
    </tr>
    <tr>
      <td>exception-name</td>
      <td>The class name of the exception</td>
    </tr>
    <tr>
      <td>message</td>
      <td>The exception message</td>
    </tr>
    <tr>
      <td>size</td>
      <td>The number of stack frames in the stack trace</td>
    </tr>
    <tr>
      <td>class</td>
      <td>The name of the class in a stack frame</td>
    </tr>
    <tr>
      <td>method</td>
      <td>The name of the method in a stack frame</td>
    </tr>
    <tr>
      <td>file</td>
      <td>The name of the file in a stack frame</td>
    </tr>
    <tr>
      <td>line-number</td>
      <td>The line number in a stack frame</td>
    </tr>
  </tbody>
</table>

<p>If the StackTraceEnabled encoding option is enabled after the exchange of WIREFORMAT_INFO packets, then every Throwable filed will have stack trace data appended to it.</p>

<h3 id="nested-command-type-encoding">Nested Command Type Encoding</h3>

<p>Nested command fields may be null. If it is null then it encodes to a single “0” byte.</p>

<p>nested-object encoding:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>             [=If not-null is 1===================]
+----------+ [ +------+-------------------------+ ]
| not-null | [ | type | command-specific-fields | ]
+----------+ [ +------+-------------------------+ ]
| byte     | [ | byte | variable sized          | ]
+----------+ [ +------+-------------------------+ ]
             [====================================]
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>not-null</td>
      <td>1 if the Throwable not null, 0 if the Throwable is null</td>
    </tr>
    <tr>
      <td>type</td>
      <td>Command type identifier</td>
    </tr>
    <tr>
      <td>command-specific-fields</td>
      <td>The data for the command. It is encoding depends on the type used</td>
    </tr>
  </tbody>
</table>

<h3 id="cached-nested-command-type-encoding">Cached Nested Command Type Encoding</h3>

<p>Nested Command types can be cached so that subsequent marshaling operations of the same object result in a smaller on the wire size. By default the CacheEnabled option is not enabled and therefore standard nested-object encoding is used.</p>

<p>cached-object-encoding:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[=If CacheEnabled option is enabled=====================]
[                       [=If new-value is 1===========] ]
[ +-----------+-------+ [ +-------------------------+ ] ]
[ | new-value | key   | [ | command-specific-fields | ] ]
[ +-----------+-------+ [ +-------------------------+ ] ]
[ | byte      | short | [ | nested-object           | ] ]
[ +-----------+-------+ [ +-------------------------+ ] ]
[                       [=============================] ]
[=====================================================] ]
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[=If CacheEnabled option is disabled =]
[ +-------------------------+         ]
[ | command-specific-fields |         ]
[ +-------------------------+         ]
[ | nested-object           |         ]
[ +-------------------------+         ]
[=====================================]
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>new-value</td>
      <td>1 if the value is not in the cache, 0 if it already is in the cache</td>
    </tr>
    <tr>
      <td>key</td>
      <td>Key used to identify the value in the cache</td>
    </tr>
    <tr>
      <td>command-specific-fields</td>
      <td>The data for the command. It is encoding depends on the type used</td>
    </tr>
  </tbody>
</table>

<h2 id="loose-encoding">Loose Encoding</h2>

<p>The default encoding explained so far is called “loose encoding” and is the default encoding used when OpenWire if first initialized. Loose encoding is simple to implement does not add much CPU overhead to the marshaling/unmarshaling process. It is able to marshal an object graph in single pass of the object tree.</p>

<h2 id="tight-encoding">Tight Encoding</h2>

<p>Another encoding option is supported by OpenWire which is called TightEncoding. When tight encoding is used, it uses bit streams to marshal all the boolean values that would have taken up a byte in loose encoding to a bit in the bit stream. To build the bit stream 2 passes through the object graph are taken so this is more CPU intensive marshaling process but it produces a smaller on the wire size.</p>


      </div>
    </div>
  </div>
</div>
<div class="row sitemap">
  <div class="col-sm-12">
    <div class="container">
      <div class="row">
        <div class="col-sm-12">
          <div class="row">
            <div class="col-sm-3">
              <div >
                <img class="float-left" style="max-height: 100px" src="/assets/img/activemq_logo_white_vertical_small.png"/>
              </div>
            </div>
            <div style="text-align: center; margin-bottom: 0px; margin-top: 30px; font-size: 65%" class="col-sm-6">
              <p><a href="https://www.apache.org/foundation/marks/list/">Apache, ActiveMQ, Apache ActiveMQ</a>, the Apache feather logo, and the Apache ActiveMQ project logo are trademarks of The Apache Software Foundation. Copyright &copy; 2024, The Apache Software Foundation. Licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a>.</p>
            </div>
            <div class="col-sm-3">
              <div >
                <a href="https://www.apache.org"><img class="float-right" style="margin-top: 10px; max-height: 80px" src="/assets/img/apache-logo-small.png"/></a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
