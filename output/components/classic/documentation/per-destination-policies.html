<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ActiveMQ</title>
    <link rel="icon" type="image/png" href="/assets/img/favicon.png">

    <link rel="stylesheet" href="/css/main.css">
    <script defer src="/js/fontawesome-all.min.js" integrity="sha384-rOA1PnstxnOBLzCLMcre8ybwbTmemjzdNlILg8O7z1lUkLXozs4DHonlDtnE7fpc"></script>
    <script src="/js/jquery.slim.min.js" integrity="sha384-5AkRS45j4ukf+JbWAfHL8P4onPA9p0KwwP7pUdjSQA3ss9edbJUJc/XcYAiheSSz"></script>
    <script src="/js/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"></script>
    <script src="/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"></script>
</head>

<body>
<nav class="navbar navbar-expand-lg navbar-light fixed-top">
    <div class="container">
        <!-- <a class="navbar-brand mr-auto" href="#"><img style="height: 50px" src="assets/img/apache-feather.png" /></a> -->
        <a class="navbar-brand mr-auto" href="/"><img src="/assets/img/activemq_logo_black_small.png" style="height: 50px"/></a>
        <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="ml-auto collapse navbar-collapse" id="navbarContent">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link active" href="/news">News</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link" id="navbarDropdownComponents" data-target="#" href="" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Components<span class="caret"></span></a>
                    <ul class="dropdown-menu dropdown-menu-center" aria-labelledby="navbarDropdownComponents">
                        <div class="row">
                            <div class="col-12">
                                <ul class="multi-column-dropdown">
                                    <li class="nav-item"><a class="dropdown-item" href="/components/classic">ActiveMQ Classic</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="/components/artemis/">ActiveMQ Artemis</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="/components/artemis-console/">ActiveMQ Artemis Console</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="/components/nms">NMS Clients</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="/components/cms">CMS Client</a></li>
                                </ul>
                            </div>
                        </div>
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link" id="navbarDropdownCommunity" data-target="#" href="" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Community<span class="caret"></span></a>
                    <ul class="dropdown-menu dropdown-menu-center multi-column columns-1" aria-labelledby="navbarDropdownCommunity">
                        <div class="row">
                            <div class="col-12">
                                <ul class="multi-column-dropdown">
                                    <li class="nav-item"><a class="dropdown-item" href="/contact">Contact Us</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="/contributing">Contribute</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="/issues">Report Issues</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="/support">Get Support</a></li>
                                </ul>
                            </div>
                          </div>
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link" id="navbarDropdownTeam" data-target="#" href="" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img src="/assets/img/asf_logo_wide.png" style="height:20px">Apache<span class="caret"></span></a>
                    <ul class="dropdown-menu dropdown-menu-center multi-column columns-1" aria-labelledby="navbarDropdownTeam">
                        <div class="row">
                            <div class="col-sm-12">
                                <ul class="multi-column-dropdown">
                                    <li class="nav-item"><a class="dropdown-item" href="https://www.apache.org">The Apache Software Foundation</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="https://www.apache.org/licenses/">License</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="/security-advisories">Security</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="https://www.apache.org/events/current-event">Events</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="https://people.apache.org/phonebook.html?pmc=activemq">PMC & Committers</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="https://whimsy.apache.org/board/minutes/ActiveMQ.html">Board Reports</a></li>
                                    <li class="nav-item"><a class="dropdown-item" href="https://privacy.apache.org/policies/privacy-policy-public.html">Privacy Policy</a></li>
                                </ul>
                            </div>
                        </div>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div class="content">
  <div class="page-title-classic">
    <div class="container">
      <h1>Per Destination Policies</h1>
    </div>
  </div>
  <div class="container" >
    <div class="row" style="margin-top: 30px">
      <div class="col-12 classic">
        <p><a href="features">Features</a> &gt; <a href="destination-features">Destination Features</a> &gt; <a href="per-destination-policies">Per Destination Policies</a></p>

<p>Multiple different policies can be applied per destination (queue or topic), or using wildcard notation to apply to a hierarchy of queues or topics, making it possible, therefore, to configure how different regions of the JMS destination space are handled.</p>

<p>The following properties can be applied to either topics and/or queues:</p>

<table>
  <thead>
    <tr>
      <th>Common Property</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">advisoryForConsumed</code></td>
      <td><code class="language-plaintext highlighter-rouge">false</code></td>
      <td>Send an advisory message when a message is consumed by a client.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">advisoryForDelivery</code></td>
      <td><code class="language-plaintext highlighter-rouge">false</code></td>
      <td>Send an advisory message when a message is sent to a client.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">advisoryForFastProducers</code></td>
      <td><code class="language-plaintext highlighter-rouge">false</code></td>
      <td>Send an advisory message if a producer is deemed fast.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">advisoryForSlowConsumers</code></td>
      <td><code class="language-plaintext highlighter-rouge">false</code></td>
      <td>Send an advisory message if a consumer is deemed slow.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">advisoryWhenFull</code></td>
      <td><code class="language-plaintext highlighter-rouge">false</code></td>
      <td>Send an advisory message when a limit (memory, store, temp disk) is full.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">enableAudit</code></td>
      <td><code class="language-plaintext highlighter-rouge">true</code></td>
      <td>When <code class="language-plaintext highlighter-rouge">true</code> the broker will track duplicate messages. Duplicates can happen for non-persistent messages during failover.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">gcInactiveDestinations</code></td>
      <td><code class="language-plaintext highlighter-rouge">false</code></td>
      <td>Garbage collect inactive destinations.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">inactiveTimoutBeforeGC</code></td>
      <td><code class="language-plaintext highlighter-rouge">5000</code></td>
      <td>The timeout (in ms) after which a destination is considered inactive.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">includeBodyForAdvisory</code></td>
      <td><code class="language-plaintext highlighter-rouge">false</code></td>
      <td>Includes the body of the original message that triggered the advisory as part of the <code class="language-plaintext highlighter-rouge">dataStructure</code> field in the advisory message (where applicable). Normally the message body is cleared.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">maxBrowsePageSize</code></td>
      <td><code class="language-plaintext highlighter-rouge">400</code></td>
      <td>The maximum number of messages to page in from the store at one time for a browser.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">maxDestinations</code></td>
      <td><code class="language-plaintext highlighter-rouge">-1</code></td>
      <td>(v5.12) If <code class="language-plaintext highlighter-rouge">&gt;= 0</code>, sets the maximum number of destinations that can be created. This parameter is intended to limit the number of hierarchical destinations that can be created under a wildcard destination.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">maxPageSize</code></td>
      <td><code class="language-plaintext highlighter-rouge">200</code></td>
      <td>The maximum number of messages to page in from the store at one time. Increase this value to improve performance for queue destination’s that contain grouped messages that are consumed by multiple concurrent consumers.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">memoryLimit</code></td>
      <td><code class="language-plaintext highlighter-rouge">n/a</code></td>
      <td>The memory limit (in bytes) of the destination’s cursor. This memory limit is subordinate to the system level memory limit, as specified by the <a href="producer-flow-control"><code class="language-plaintext highlighter-rouge">&lt;systemUsage&gt;/&lt;memoryUsage&gt;</code></a> attribute. There is no default for this value; it simply acts as a child to the overall broker memory until the broker memory is exhausted. <strong>Note</strong>: when this limit is specified the destination’s <code class="language-plaintext highlighter-rouge">cursorMemoryHighWaterMark</code> will be applied against it and not the <code class="language-plaintext highlighter-rouge">&lt;systemUsage&gt;/&gt;&lt;memoryUsage&gt;</code> memory limit.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">minimumMessageSize</code></td>
      <td><code class="language-plaintext highlighter-rouge">1024</code></td>
      <td>For non-serialized messages (embedded broker) - the assumed size of the message used for memory usage calculation. Serialized messages use the serialized size as the basis for the memory calculation.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">prioritizedMessages</code></td>
      <td><code class="language-plaintext highlighter-rouge">false</code></td>
      <td>Persist message priority information.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">producerFlowControl</code></td>
      <td><code class="language-plaintext highlighter-rouge">true</code></td>
      <td>If <code class="language-plaintext highlighter-rouge">true</code> the broker will throttle (flow-control) the producer. Throttling is achieved either by withholding the producer’s ACK or by raising a <code class="language-plaintext highlighter-rouge">javax.jms.ResourceAllocationException</code> (that’s propagated back to the client) when local resources, e.g., memory and/or storage, have been exhausted. If <code class="language-plaintext highlighter-rouge">false</code> excess messages will be written to the message store to prevent memory exhaustion. However, when the message store reaches capacity the producer will be throttled until resources are freed.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">slowConsumerStrategy</code></td>
      <td><code class="language-plaintext highlighter-rouge">null</code></td>
      <td>Sets the strategy for handling slow consumers. See <a href="https://github.com/apache/activemq/blob/master/activemq-broker/src/main/java/org/apache/activemq/broker/region/policy/AbortSlowConsumerStrategy.java">AbortSlowConsumerStrategy.</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">storeUsageHighWaterMark</code></td>
      <td><code class="language-plaintext highlighter-rouge">100</code></td>
      <td>The percentage (%) threshold of the <code class="language-plaintext highlighter-rouge">&lt;systemUsage&gt;/&lt;storeUsage&gt;</code> store limit which when exceeded causes a producer send to block.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">useCache</code></td>
      <td><code class="language-plaintext highlighter-rouge">true</code></td>
      <td>If <code class="language-plaintext highlighter-rouge">true</code> persistent messages are cached for fast retrieval from store.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">usePrefetchExtension</code></td>
      <td><code class="language-plaintext highlighter-rouge">true</code></td>
      <td>The prefetch extension is used when a message is delivered but not ACK’ed, such that the broker can dispatch another message, e.g., <code class="language-plaintext highlighter-rouge">prefetch == 0</code>, the idea being that there will always be prefetch number of messages pending. It also allows a transaction batch to exceed the prefetch value.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">sendDuplicateFromStoreToDLQ</code></td>
      <td><code class="language-plaintext highlighter-rouge">false</code></td>
      <td>(v5.17.0) If <code class="language-plaintext highlighter-rouge">true</code>, will send a copy of message to DLQ when duplicateFromStore condition is detected. Before v5.17.0, the default behavior was <code class="language-plaintext highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">sendFailIfNoSpace</code></td>
      <td><code class="language-plaintext highlighter-rouge">false</code></td>
      <td>(v5.16.0) If <code class="language-plaintext highlighter-rouge">true</code>, will cause a send to fail with a <code class="language-plaintext highlighter-rouge">javax.jms.ResourceAllocationException</code> when the destination has reached is resource limits (memory or storage)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">sendFailIfNoSpaceAfterTimeout</code></td>
      <td><code class="language-plaintext highlighter-rouge">0</code></td>
      <td>(v5.16.0) If <code class="language-plaintext highlighter-rouge">&gt; 0</code>, will cause a send to fail with a <code class="language-plaintext highlighter-rouge">javax.jms.ResourceAllocationException</code> when the destination resource limits (memory or storage) remain exhausted for the configured duration in milliseconds</td>
    </tr>
  </tbody>
</table>

<p>The following properties can be applied <em>only</em> to a queue:</p>

<table>
  <thead>
    <tr>
      <th>Queue Only Property</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">allConsumersExclusiveByDefault</code></td>
      <td><code class="language-plaintext highlighter-rouge">false</code></td>
      <td>When <code class="language-plaintext highlighter-rouge">true</code> all consumers will be exclusive. See <a href="exclusive-consumer">Exclusive Consumers</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">cursorMemoryHighWaterMark</code></td>
      <td><code class="language-plaintext highlighter-rouge">70</code></td>
      <td>The percentage (%) threshold applied either to the <code class="language-plaintext highlighter-rouge">&lt;systemUsage&gt;/&lt;memoryUsage&gt;</code> or the destination’s <code class="language-plaintext highlighter-rouge">memoryLimit</code> (when defined) which when exceeded will cause the destination’s cursor to either block or write to disk.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">consumersBeforeDispatchStarts</code></td>
      <td><code class="language-plaintext highlighter-rouge">0</code></td>
      <td>When the first consumer connects, wait for specified number of consumers before message dispatching starts.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">expireMessagesPeriod</code></td>
      <td><code class="language-plaintext highlighter-rouge">30000</code></td>
      <td>The period (in ms) of checks for message expiry on queued messages. A value of <code class="language-plaintext highlighter-rouge">0</code> will disable expiration checking.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">lazyDispatch</code></td>
      <td><code class="language-plaintext highlighter-rouge">false</code></td>
      <td>Only page in from store the number of messages that can be dispatched at time.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">maxExpirePageSize</code></td>
      <td><code class="language-plaintext highlighter-rouge">400</code></td>
      <td>The maximum number of messages to page in when periodically expiring messages. Messages are paged in according to this setting if the number of messages in memory pending dispatch is less than this value, and there are messages in the store to page in. Messages are expired during this paging step as they are brought into memory from the store. Once the paging process is completed, messages are expired from the list of those that are in memory and pending dispatch, then from the list of those that are in memory but not yet targeted at a subscription.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">optimizedDispatch</code></td>
      <td><code class="language-plaintext highlighter-rouge">false</code></td>
      <td>Don’t use a separate thread for dispatching from a Queue.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">persistJMSRedelivered</code></td>
      <td><code class="language-plaintext highlighter-rouge">false</code></td>
      <td>(v 5.10) If true, before a persistent message is dispatched by the broker for the first time, the message is rewritten to reflect the possible delivery. This ensures the message <code class="language-plaintext highlighter-rouge">JMSRedelivered</code> header is a reliable indication of possible duplicate delivery.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">queuePrefetch</code></td>
      <td><code class="language-plaintext highlighter-rouge">n/a</code></td>
      <td>Sets the prefetch for consumers that are using the default value.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">strictOrderDispatch</code></td>
      <td><code class="language-plaintext highlighter-rouge">false</code></td>
      <td>If <code class="language-plaintext highlighter-rouge">true</code> queue will not round robin consumers, but it’ll use a single one until its prefetch buffer is full.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">timeBeforeDispatchStarts</code></td>
      <td><code class="language-plaintext highlighter-rouge">0</code></td>
      <td>When the first consumer connects, wait for specified time (in ms) before message dispatching starts.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">useConsumerPriority</code></td>
      <td><code class="language-plaintext highlighter-rouge">true</code></td>
      <td>Use the priority of a consumer when dispatching messages from a Queue.</td>
    </tr>
  </tbody>
</table>

<p>The following properties can be applied <em>only</em> to a topic:</p>

<table>
  <thead>
    <tr>
      <th>Topic Only Property</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">advisoryForDiscardingMessages</code></td>
      <td><code class="language-plaintext highlighter-rouge">false</code></td>
      <td>Send an advisory when a message is discarded from a non durable subscription.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">cursorMemoryHighWaterMark</code></td>
      <td><code class="language-plaintext highlighter-rouge">70</code></td>
      <td>The percentage (%) threshold applied to the <code class="language-plaintext highlighter-rouge">&lt;systemUsage&gt;/&lt;memoryUsage&gt;</code> which when exceeded will cause the destination’s cursor to either block or write to disk.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">alwaysRetroactive</code></td>
      <td><code class="language-plaintext highlighter-rouge">false</code></td>
      <td>Makes all subscribers retroactive negating the need to modify the clients to enable this feature.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">durableTopicPrefetch</code></td>
      <td><code class="language-plaintext highlighter-rouge">n/a</code></td>
      <td>Sets the prefetch for durable topic consumers that are using the default value.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">expireMessagesPeriod</code></td>
      <td><code class="language-plaintext highlighter-rouge">30000</code></td>
      <td>The interval (in ms) between message expiration checks on inactive durable subscribers. <strong>Note</strong>: set to <code class="language-plaintext highlighter-rouge">0</code> to disable message expiration checking.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">topicPrefetch</code></td>
      <td><code class="language-plaintext highlighter-rouge">n/a</code></td>
      <td>Sets the prefetch for topic consumers that are using the default value.</td>
    </tr>
  </tbody>
</table>

<p>The following are examples of different policies that can be customized on a per destination basis:</p>

<ul>
  <li><a href="dispatch-policies">Dispatch Policies</a></li>
</ul>

<p>An example from the demos <a href="https://git-wip-us.apache.org/repos/asf?p=activemq.git;a=blob;f=assembly/src/release/examples/conf/activemq-demo.xml;hb=HEAD">https://git-wip-us.apache.org/repos/asf?p=activemq.git;a=blob;f=assembly/src/release/examples/conf/activemq-demo.xml;hb=HEAD</a>: </p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:amq="http://activemq.apache.org/schema/core"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
                           http://activemq.apache.org/schema/core http://activemq.apache.org/schema/core/activemq-core.xsd"&gt;
 
  &lt;bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"/&gt;
 
  &lt;broker persistent="false" 
          brokerName="${brokername}" 
          xmlns="http://activemq.apache.org/schema/core"&gt;
    
    &lt;destinationPolicy&gt;
      &lt;policyMap&gt;
        &lt;policyEntries&gt;
          &lt;policyEntry topic="FOO.&gt;"&gt;
            &lt;dispatchPolicy&gt;
              &lt;roundRobinDispatchPolicy/&gt;
            &lt;/dispatchPolicy&gt;
            &lt;subscriptionRecoveryPolicy&gt;
              &lt;lastImageSubscriptionRecoveryPolicy/&gt;
            &lt;/subscriptionRecoveryPolicy&gt;
          &lt;/policyEntry&gt;
           
          &lt;policyEntry topic="ORDERS.&gt;"&gt;
            &lt;dispatchPolicy&gt;
              &lt;strictOrderDispatchPolicy/&gt;
            &lt;/dispatchPolicy&gt;
 
            &lt;!-- Recover 1 minute's worth --&gt;
            &lt;subscriptionRecoveryPolicy&gt;
              &lt;timedSubscriptionRecoveryPolicy recoverDuration="60000"/&gt;
            &lt;/subscriptionRecoveryPolicy&gt;
          &lt;/policyEntry&gt;
     
          &lt;policyEntry topic="PRICES.&gt;"&gt;
            &lt;!-- Force pending messages to be discarded for slow consumers --&gt;
            &lt;pendingMessageLimitStrategy&gt;
              &lt;constantPendingMessageLimitStrategy limit="10"/&gt;
            &lt;/pendingMessageLimitStrategy&gt;
 
            &lt;!-- 10 seconds worth --&gt;
            &lt;subscriptionRecoveryPolicy&gt;
              &lt;timedSubscriptionRecoveryPolicy recoverDuration="10000"/&gt;
            &lt;/subscriptionRecoveryPolicy&gt;
             
          &lt;/policyEntry&gt;
          &lt;policyEntry tempTopic="true" advisoryForConsumed="true"/&gt;
          &lt;policyEntry tempQueue="true" advisoryForConsumed="true"/&gt;
        &lt;/policyEntries&gt;
      &lt;/policyMap&gt;
    &lt;/destinationPolicy&gt;
  &lt;/broker&gt;
&lt;/beans&gt;
</code></pre></div></div>

      </div>
    </div>
  </div>
</div>
<div class="row sitemap">
  <div class="col-sm-12">
    <div class="container">
      <div class="row">
        <div class="col-sm-12">
          <div class="row">
            <div class="col-sm-3">
              <div >
                <img class="float-left" style="max-height: 100px" src="/assets/img/activemq_logo_white_vertical_small.png"/>
              </div>
            </div>
            <div style="text-align: center; margin-bottom: 0px; margin-top: 30px; font-size: 65%" class="col-sm-6">
              <p><a href="https://www.apache.org/foundation/marks/list/">Apache, ActiveMQ, Apache ActiveMQ</a>, the Apache feather logo, and the Apache ActiveMQ project logo are trademarks of The Apache Software Foundation. Copyright &copy; 2025, The Apache Software Foundation. Licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a>.</p>
            </div>
            <div class="col-sm-3">
              <div >
                <a href="https://www.apache.org"><img class="float-right" style="margin-top: 10px; max-height: 80px" src="/assets/img/Apache_PoweredBy.png"/></a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
