<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>AbstractKahaDBStore (ActiveMQ 5.17.0 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AbstractKahaDBStore (ActiveMQ 5.17.0 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":6,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":6,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":6,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":6,"i39":10,"i40":6,"i41":10,"i42":10,"i43":10,"i44":10,"i45":10,"i46":10,"i47":10,"i48":10,"i49":10,"i50":10,"i51":10,"i52":10,"i53":10,"i54":10,"i55":10,"i56":10,"i57":10,"i58":10,"i59":10,"i60":10,"i61":10,"i62":10,"i63":10,"i64":10,"i65":10,"i66":10,"i67":10,"i68":10,"i69":10,"i70":10,"i71":10,"i72":10,"i73":10,"i74":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractKahaDBStore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.activemq.store.kahadb</a></div>
<h2 title="Class AbstractKahaDBStore" class="title">Class AbstractKahaDBStore</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../util/ServiceSupport.html" title="class in org.apache.activemq.util">org.apache.activemq.util.ServiceSupport</a></li>
<li>
<ul class="inheritance">
<li><a href="../../broker/LockableServiceSupport.html" title="class in org.apache.activemq.broker">org.apache.activemq.broker.LockableServiceSupport</a></li>
<li>
<ul class="inheritance">
<li>org.apache.activemq.store.kahadb.AbstractKahaDBStore</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../../broker/BrokerServiceAware.html" title="interface in org.apache.activemq.broker">BrokerServiceAware</a></code>, <code><a href="../../broker/Lockable.html" title="interface in org.apache.activemq.broker">Lockable</a></code>, <code><a href="../../Service.html" title="interface in org.apache.activemq">Service</a></code></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="scheduler/JobSchedulerStoreImpl.html" title="class in org.apache.activemq.store.kahadb.scheduler">JobSchedulerStoreImpl</a></code></dd>
</dl>
<hr>
<pre>public abstract class <span class="typeNameLabel">AbstractKahaDBStore</span>
extends <a href="../../broker/LockableServiceSupport.html" title="class in org.apache.activemq.broker">LockableServiceSupport</a></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#archiveCorruptedIndex">archiveCorruptedIndex</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#archiveDataLogs">archiveDataLogs</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkForCorruptJournalFiles">checkForCorruptJournalFiles</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkpointInterval">checkpointInterval</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/locks/ReentrantReadWriteLock.html?is-external=true" title="class or interface in java.util.concurrent.locks" class="externalLink">ReentrantReadWriteLock</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkpointLock">checkpointLock</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink">Thread</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkpointThread">checkpointThread</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkpointThreadLock">checkpointThreadLock</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checksumJournalFiles">checksumJournalFiles</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cleanupInterval">cleanupInterval</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteAllJobs">deleteAllJobs</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html?is-external=true" title="class or interface in java.io" class="externalLink">File</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#directory">directory</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html?is-external=true" title="class or interface in java.io" class="externalLink">File</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#directoryArchive">directoryArchive</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#enableIndexDiskSyncs">enableIndexDiskSyncs</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#enableIndexPageCaching">enableIndexPageCaching</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#enableIndexRecoveryFile">enableIndexRecoveryFile</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#enableIndexWriteAsync">enableIndexWriteAsync</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#enableJournalDiskSyncs">enableJournalDiskSyncs</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#failIfDatabaseIsLocked">failIfDatabaseIsLocked</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#forceRecoverIndex">forceRecoverIndex</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ignoreMissingJournalfiles">ignoreMissingJournalfiles</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#indexCacheSize">indexCacheSize</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected float</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#indexLFUEvictionFactor">indexLFUEvictionFactor</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/locks/ReentrantReadWriteLock.html?is-external=true" title="class or interface in java.util.concurrent.locks" class="externalLink">ReentrantReadWriteLock</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#indexLock">indexLock</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#indexWriteBatchSize">indexWriteBatchSize</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="disk/journal/Journal.html" title="class in org.apache.activemq.store.kahadb.disk.journal">Journal</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#journal">journal</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#journalMaxFileLength">journalMaxFileLength</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#journalMaxWriteBatchSize">journalMaxWriteBatchSize</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicLong.html?is-external=true" title="class or interface in java.util.concurrent.atomic" class="externalLink">AtomicLong</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#journalSize">journalSize</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#LOG_SLOW_ACCESS_TIME">LOG_SLOW_ACCESS_TIME</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="class or interface in java.util.concurrent.atomic" class="externalLink">AtomicBoolean</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#opened">opened</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="disk/page/PageFile.html" title="class in org.apache.activemq.store.kahadb.disk.page">PageFile</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#pageFile">pageFile</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#PROPERTY_LOG_SLOW_ACCESS_TIME">PROPERTY_LOG_SLOW_ACCESS_TIME</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#purgeStoreOnStartup">purgeStoreOnStartup</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#useIndexLFRUEviction">useIndexLFRUEviction</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.org.apache.activemq.broker.LockableServiceSupport">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.activemq.broker.<a href="../../broker/LockableServiceSupport.html" title="class in org.apache.activemq.broker">LockableServiceSupport</a></h3>
<code><a href="../../broker/LockableServiceSupport.html#brokerService">brokerService</a>, <a href="../../broker/LockableServiceSupport.html#clockDaemon">clockDaemon</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">AbstractKahaDBStore</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkpointCleanup(boolean)">checkpointCleanup</a></span>&#8203;(boolean&nbsp;cleanup)</code></th>
<td class="colLast">
<div class="block">Called from the worker thread to start a checkpoint.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkpointUpdate(boolean)">checkpointUpdate</a></span>&#8203;(boolean&nbsp;cleanup)</code></th>
<td class="colLast">
<div class="block">Perform a checkpoint operation with optional cleanup.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkpointUpdate(org.apache.activemq.store.kahadb.disk.page.Transaction,boolean)">checkpointUpdate</a></span>&#8203;(<a href="disk/page/Transaction.html" title="class in org.apache.activemq.store.kahadb.disk.page">Transaction</a>&nbsp;tx,
                boolean&nbsp;cleanup)</code></th>
<td class="colLast">
<div class="block">Perform the checkpoint update operation.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../broker/Locker.html" title="interface in org.apache.activemq.broker">Locker</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createDefaultLocker()">createDefaultLocker</a></span>()</code></th>
<td class="colLast">
<div class="block">Create a default locker</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected <a href="disk/journal/Journal.html" title="class in org.apache.activemq.store.kahadb.disk.journal">Journal</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createJournal()">createJournal</a></span>()</code></th>
<td class="colLast">
<div class="block">Create a new Journal instance and configure it using the currently set configuration
 options.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected <a href="disk/page/PageFile.html" title="class in org.apache.activemq.store.kahadb.disk.page">PageFile</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createPageFile()">createPageFile</a></span>()</code></th>
<td class="colLast">
<div class="block">Create the PageFile instance and configure it using the configuration options
 currently set.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doStart()">doStart</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doStop(org.apache.activemq.util.ServiceStopper)">doStop</a></span>&#8203;(<a href="../../util/ServiceStopper.html" title="class in org.apache.activemq.util">ServiceStopper</a>&nbsp;stopper)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCheckpointInterval()">getCheckpointInterval</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCleanupInterval()">getCleanupInterval</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCleanupOnStop()">getCleanupOnStop</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected abstract <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html?is-external=true" title="class or interface in java.io" class="externalLink">File</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDefaultDataDirectory()">getDefaultDataDirectory</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html?is-external=true" title="class or interface in java.io" class="externalLink">File</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDirectory()">getDirectory</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html?is-external=true" title="class or interface in java.io" class="externalLink">File</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDirectoryArchive()">getDirectoryArchive</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getIndexCacheSize()">getIndexCacheSize</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>float</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getIndexLFUEvictionFactor()">getIndexLFUEvictionFactor</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getIndexWriteBatchSize()">getIndexWriteBatchSize</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="disk/journal/Journal.html" title="class in org.apache.activemq.store.kahadb.disk.journal">Journal</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getJournal()">getJournal</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getJournalMaxFileLength()">getJournalMaxFileLength</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getJournalMaxWriteBatchSize()">getJournalMaxWriteBatchSize</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code><a href="disk/page/PageFile.html" title="class in org.apache.activemq.store.kahadb.disk.page">PageFile</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPageFile()">getPageFile</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>protected abstract <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPageFileName()">getPageFileName</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#init()">init</a></span>()</code></th>
<td class="colLast">
<div class="block">Initialize resources before locking</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isArchiveCorruptedIndex()">isArchiveCorruptedIndex</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isArchiveDataLogs()">isArchiveDataLogs</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isCheckForCorruptJournalFiles()">isCheckForCorruptJournalFiles</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isChecksumJournalFiles()">isChecksumJournalFiles</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isDeleteAllJobs()">isDeleteAllJobs</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isEnableIndexDiskSyncs()">isEnableIndexDiskSyncs</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isEnableIndexPageCaching()">isEnableIndexPageCaching</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isEnableIndexRecoveryFile()">isEnableIndexRecoveryFile</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isEnableIndexWriteAsync()">isEnableIndexWriteAsync</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isEnableJournalDiskSyncs()">isEnableJournalDiskSyncs</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isFailIfDatabaseIsLocked()">isFailIfDatabaseIsLocked</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isForceRecoverIndex()">isForceRecoverIndex</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isIgnoreMissingJournalfiles()">isIgnoreMissingJournalfiles</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isPurgeStoreOnStartup()">isPurgeStoreOnStartup</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isUseIndexLFRUEviction()">isUseIndexLFRUEviction</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#load()">load</a></span>()</code></th>
<td class="colLast">
<div class="block">Loads the store from disk.</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>protected <a href="JournalCommand.html" title="interface in org.apache.activemq.store.kahadb">JournalCommand</a>&lt;?&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#load(org.apache.activemq.store.kahadb.disk.journal.Location)">load</a></span>&#8203;(<a href="disk/journal/Location.html" title="class in org.apache.activemq.store.kahadb.disk.journal">Location</a>&nbsp;location)</code></th>
<td class="colLast">
<div class="block">Loads a previously stored JournalMessage</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#process(org.apache.activemq.store.kahadb.JournalCommand,org.apache.activemq.store.kahadb.disk.journal.Location)">process</a></span>&#8203;(<a href="JournalCommand.html" title="interface in org.apache.activemq.store.kahadb">JournalCommand</a>&lt;?&gt;&nbsp;command,
       <a href="disk/journal/Location.html" title="class in org.apache.activemq.store.kahadb.disk.journal">Location</a>&nbsp;location)</code></th>
<td class="colLast">
<div class="block">Process a stored or recovered JournalCommand instance and update the DB Index with the
 state changes that this command produces.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setArchiveCorruptedIndex(boolean)">setArchiveCorruptedIndex</a></span>&#8203;(boolean&nbsp;archiveCorruptedIndex)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setArchiveDataLogs(boolean)">setArchiveDataLogs</a></span>&#8203;(boolean&nbsp;archiveDataLogs)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setCheckForCorruptJournalFiles(boolean)">setCheckForCorruptJournalFiles</a></span>&#8203;(boolean&nbsp;checkForCorruptJournalFiles)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setCheckpointInterval(long)">setCheckpointInterval</a></span>&#8203;(long&nbsp;checkpointInterval)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setChecksumJournalFiles(boolean)">setChecksumJournalFiles</a></span>&#8203;(boolean&nbsp;checksumJournalFiles)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setCleanupInterval(long)">setCleanupInterval</a></span>&#8203;(long&nbsp;cleanupInterval)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setCleanupOnStop(boolean)">setCleanupOnStop</a></span>&#8203;(boolean&nbsp;cleanupOnStop)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i48" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setDeleteAllJobs(boolean)">setDeleteAllJobs</a></span>&#8203;(boolean&nbsp;deleteAllJobs)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i49" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setDirectory(java.io.File)">setDirectory</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html?is-external=true" title="class or interface in java.io" class="externalLink">File</a>&nbsp;directory)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i50" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setDirectoryArchive(java.io.File)">setDirectoryArchive</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html?is-external=true" title="class or interface in java.io" class="externalLink">File</a>&nbsp;directoryArchive)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i51" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setEnableIndexDiskSyncs(boolean)">setEnableIndexDiskSyncs</a></span>&#8203;(boolean&nbsp;enableIndexDiskSyncs)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i52" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setEnableIndexPageCaching(boolean)">setEnableIndexPageCaching</a></span>&#8203;(boolean&nbsp;enableIndexPageCaching)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i53" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setEnableIndexRecoveryFile(boolean)">setEnableIndexRecoveryFile</a></span>&#8203;(boolean&nbsp;enableIndexRecoveryFile)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i54" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setEnableIndexWriteAsync(boolean)">setEnableIndexWriteAsync</a></span>&#8203;(boolean&nbsp;enableIndexWriteAsync)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i55" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setEnableJournalDiskSyncs(boolean)">setEnableJournalDiskSyncs</a></span>&#8203;(boolean&nbsp;syncWrites)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i56" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setFailIfDatabaseIsLocked(boolean)">setFailIfDatabaseIsLocked</a></span>&#8203;(boolean&nbsp;failIfDatabaseIsLocked)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i57" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setForceRecoverIndex(boolean)">setForceRecoverIndex</a></span>&#8203;(boolean&nbsp;forceRecoverIndex)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i58" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setIgnoreMissingJournalfiles(boolean)">setIgnoreMissingJournalfiles</a></span>&#8203;(boolean&nbsp;ignoreMissingJournalfiles)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i59" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setIndexCacheSize(int)">setIndexCacheSize</a></span>&#8203;(int&nbsp;indexCacheSize)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i60" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setIndexLFUEvictionFactor(float)">setIndexLFUEvictionFactor</a></span>&#8203;(float&nbsp;indexLFUEvictionFactor)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i61" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setIndexWriteBatchSize(int)">setIndexWriteBatchSize</a></span>&#8203;(int&nbsp;indexWriteBatchSize)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i62" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setJournalMaxFileLength(int)">setJournalMaxFileLength</a></span>&#8203;(int&nbsp;journalMaxFileLength)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i63" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setJournalMaxWriteBatchSize(int)">setJournalMaxWriteBatchSize</a></span>&#8203;(int&nbsp;journalMaxWriteBatchSize)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i64" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setPurgeStoreOnStartup(boolean)">setPurgeStoreOnStartup</a></span>&#8203;(boolean&nbsp;purge)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i65" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setUseIndexLFRUEviction(boolean)">setUseIndexLFRUEviction</a></span>&#8203;(boolean&nbsp;useIndexLFRUEviction)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i66" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#size()">size</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i67" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#startCheckpoint()">startCheckpoint</a></span>()</code></th>
<td class="colLast">
<div class="block">Starts the checkpoint Thread instance if not already running and not disabled
 by configuration.</div>
</td>
</tr>
<tr id="i68" class="altColor">
<td class="colFirst"><code><a href="disk/journal/Location.html" title="class in org.apache.activemq.store.kahadb.disk.journal">Location</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#store(org.apache.activemq.store.kahadb.JournalCommand)">store</a></span>&#8203;(<a href="JournalCommand.html" title="interface in org.apache.activemq.store.kahadb">JournalCommand</a>&lt;?&gt;&nbsp;command)</code></th>
<td class="colLast">
<div class="block">Store a command in the Journal and process to update the Store index.</div>
</td>
</tr>
<tr id="i69" class="rowColor">
<td class="colFirst"><code><a href="disk/journal/Location.html" title="class in org.apache.activemq.store.kahadb.disk.journal">Location</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#store(org.apache.activemq.store.kahadb.JournalCommand,boolean)">store</a></span>&#8203;(<a href="JournalCommand.html" title="interface in org.apache.activemq.store.kahadb">JournalCommand</a>&lt;?&gt;&nbsp;command,
     boolean&nbsp;sync)</code></th>
<td class="colLast">
<div class="block">Store a command in the Journal and process to update the Store index.</div>
</td>
</tr>
<tr id="i70" class="altColor">
<td class="colFirst"><code><a href="disk/journal/Location.html" title="class in org.apache.activemq.store.kahadb.disk.journal">Location</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#store(org.apache.activemq.store.kahadb.JournalCommand,boolean,java.lang.Runnable,java.lang.Runnable)">store</a></span>&#8203;(<a href="JournalCommand.html" title="interface in org.apache.activemq.store.kahadb">JournalCommand</a>&lt;?&gt;&nbsp;command,
     boolean&nbsp;sync,
     <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Runnable</a>&nbsp;before,
     <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Runnable</a>&nbsp;after)</code></th>
<td class="colLast">
<div class="block">Store a command in the Journal and process to update the Store index.</div>
</td>
</tr>
<tr id="i71" class="rowColor">
<td class="colFirst"><code><a href="disk/journal/Location.html" title="class in org.apache.activemq.store.kahadb.disk.journal">Location</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#store(org.apache.activemq.store.kahadb.JournalCommand,boolean,java.lang.Runnable,java.lang.Runnable,java.lang.Runnable)">store</a></span>&#8203;(<a href="JournalCommand.html" title="interface in org.apache.activemq.store.kahadb">JournalCommand</a>&lt;?&gt;&nbsp;command,
     boolean&nbsp;sync,
     <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Runnable</a>&nbsp;before,
     <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Runnable</a>&nbsp;after,
     <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Runnable</a>&nbsp;onJournalStoreComplete)</code></th>
<td class="colLast">
<div class="block">All updated are are funneled through this method.</div>
</td>
</tr>
<tr id="i72" class="altColor">
<td class="colFirst"><code><a href="disk/journal/Location.html" title="class in org.apache.activemq.store.kahadb.disk.journal">Location</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#store(org.apache.activemq.store.kahadb.JournalCommand,java.lang.Runnable)">store</a></span>&#8203;(<a href="JournalCommand.html" title="interface in org.apache.activemq.store.kahadb">JournalCommand</a>&lt;?&gt;&nbsp;command,
     <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Runnable</a>&nbsp;onJournalStoreComplete)</code></th>
<td class="colLast">
<div class="block">Store a command in the Journal and process to update the Store index.</div>
</td>
</tr>
<tr id="i73" class="rowColor">
<td class="colFirst"><code>protected <a href="../../util/ByteSequence.html" title="class in org.apache.activemq.util">ByteSequence</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#toByteSequence(org.apache.activemq.store.kahadb.JournalCommand)">toByteSequence</a></span>&#8203;(<a href="JournalCommand.html" title="interface in org.apache.activemq.store.kahadb">JournalCommand</a>&lt;?&gt;&nbsp;data)</code></th>
<td class="colLast">
<div class="block">Creates a new ByteSequence that represents the marshaled form of the given Journal Command.</div>
</td>
</tr>
<tr id="i74" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unload()">unload</a></span>()</code></th>
<td class="colLast">
<div class="block">Unload the state of the Store to disk and shuts down all resources assigned to this
 KahaDB store implementation.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.apache.activemq.broker.LockableServiceSupport">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.activemq.broker.<a href="../../broker/LockableServiceSupport.html" title="class in org.apache.activemq.broker">LockableServiceSupport</a></h3>
<code><a href="../../broker/LockableServiceSupport.html#getBrokerService()">getBrokerService</a>, <a href="../../broker/LockableServiceSupport.html#getLocker()">getLocker</a>, <a href="../../broker/LockableServiceSupport.html#getLockKeepAlivePeriod()">getLockKeepAlivePeriod</a>, <a href="../../broker/LockableServiceSupport.html#getScheduledThreadPoolExecutor()">getScheduledThreadPoolExecutor</a>, <a href="../../broker/LockableServiceSupport.html#isStopOnError()">isStopOnError</a>, <a href="../../broker/LockableServiceSupport.html#isUseLock()">isUseLock</a>, <a href="../../broker/LockableServiceSupport.html#keepLockAlive()">keepLockAlive</a>, <a href="../../broker/LockableServiceSupport.html#postStop(org.apache.activemq.util.ServiceStopper)">postStop</a>, <a href="../../broker/LockableServiceSupport.html#preStart()">preStart</a>, <a href="../../broker/LockableServiceSupport.html#setBrokerService(org.apache.activemq.broker.BrokerService)">setBrokerService</a>, <a href="../../broker/LockableServiceSupport.html#setLocker(org.apache.activemq.broker.Locker)">setLocker</a>, <a href="../../broker/LockableServiceSupport.html#setLockKeepAlivePeriod(long)">setLockKeepAlivePeriod</a>, <a href="../../broker/LockableServiceSupport.html#setScheduledThreadPoolExecutor(java.util.concurrent.ScheduledThreadPoolExecutor)">setScheduledThreadPoolExecutor</a>, <a href="../../broker/LockableServiceSupport.html#setStopOnError(boolean)">setStopOnError</a>, <a href="../../broker/LockableServiceSupport.html#setUseLock(boolean)">setUseLock</a>, <a href="../../broker/LockableServiceSupport.html#stopBroker()">stopBroker</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.apache.activemq.util.ServiceSupport">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.activemq.util.<a href="../../util/ServiceSupport.html" title="class in org.apache.activemq.util">ServiceSupport</a></h3>
<code><a href="../../util/ServiceSupport.html#addServiceListener(org.apache.activemq.util.ServiceListener)">addServiceListener</a>, <a href="../../util/ServiceSupport.html#dispose(org.apache.activemq.Service)">dispose</a>, <a href="../../util/ServiceSupport.html#isStarted()">isStarted</a>, <a href="../../util/ServiceSupport.html#isStopped()">isStopped</a>, <a href="../../util/ServiceSupport.html#isStopping()">isStopping</a>, <a href="../../util/ServiceSupport.html#removeServiceListener(org.apache.activemq.util.ServiceListener)">removeServiceListener</a>, <a href="../../util/ServiceSupport.html#start()">start</a>, <a href="../../util/ServiceSupport.html#stop()">stop</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="PROPERTY_LOG_SLOW_ACCESS_TIME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PROPERTY_LOG_SLOW_ACCESS_TIME</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a> PROPERTY_LOG_SLOW_ACCESS_TIME</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.activemq.store.kahadb.AbstractKahaDBStore.PROPERTY_LOG_SLOW_ACCESS_TIME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="LOG_SLOW_ACCESS_TIME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG_SLOW_ACCESS_TIME</h4>
<pre>public static final&nbsp;int LOG_SLOW_ACCESS_TIME</pre>
</li>
</ul>
<a id="directory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>directory</h4>
<pre>protected&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html?is-external=true" title="class or interface in java.io" class="externalLink">File</a> directory</pre>
</li>
</ul>
<a id="pageFile">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pageFile</h4>
<pre>protected&nbsp;<a href="disk/page/PageFile.html" title="class in org.apache.activemq.store.kahadb.disk.page">PageFile</a> pageFile</pre>
</li>
</ul>
<a id="journal">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>journal</h4>
<pre>protected&nbsp;<a href="disk/journal/Journal.html" title="class in org.apache.activemq.store.kahadb.disk.journal">Journal</a> journal</pre>
</li>
</ul>
<a id="journalSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>journalSize</h4>
<pre>protected&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicLong.html?is-external=true" title="class or interface in java.util.concurrent.atomic" class="externalLink">AtomicLong</a> journalSize</pre>
</li>
</ul>
<a id="failIfDatabaseIsLocked">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failIfDatabaseIsLocked</h4>
<pre>protected&nbsp;boolean failIfDatabaseIsLocked</pre>
</li>
</ul>
<a id="checkpointInterval">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkpointInterval</h4>
<pre>protected&nbsp;long checkpointInterval</pre>
</li>
</ul>
<a id="cleanupInterval">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanupInterval</h4>
<pre>protected&nbsp;long cleanupInterval</pre>
</li>
</ul>
<a id="checkForCorruptJournalFiles">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkForCorruptJournalFiles</h4>
<pre>protected&nbsp;boolean checkForCorruptJournalFiles</pre>
</li>
</ul>
<a id="checksumJournalFiles">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checksumJournalFiles</h4>
<pre>protected&nbsp;boolean checksumJournalFiles</pre>
</li>
</ul>
<a id="forceRecoverIndex">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forceRecoverIndex</h4>
<pre>protected&nbsp;boolean forceRecoverIndex</pre>
</li>
</ul>
<a id="journalMaxFileLength">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>journalMaxFileLength</h4>
<pre>protected&nbsp;int journalMaxFileLength</pre>
</li>
</ul>
<a id="journalMaxWriteBatchSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>journalMaxWriteBatchSize</h4>
<pre>protected&nbsp;int journalMaxWriteBatchSize</pre>
</li>
</ul>
<a id="archiveCorruptedIndex">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>archiveCorruptedIndex</h4>
<pre>protected&nbsp;boolean archiveCorruptedIndex</pre>
</li>
</ul>
<a id="enableIndexWriteAsync">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enableIndexWriteAsync</h4>
<pre>protected&nbsp;boolean enableIndexWriteAsync</pre>
</li>
</ul>
<a id="enableJournalDiskSyncs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enableJournalDiskSyncs</h4>
<pre>protected&nbsp;boolean enableJournalDiskSyncs</pre>
</li>
</ul>
<a id="deleteAllJobs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteAllJobs</h4>
<pre>protected&nbsp;boolean deleteAllJobs</pre>
</li>
</ul>
<a id="indexWriteBatchSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexWriteBatchSize</h4>
<pre>protected&nbsp;int indexWriteBatchSize</pre>
</li>
</ul>
<a id="useIndexLFRUEviction">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>useIndexLFRUEviction</h4>
<pre>protected&nbsp;boolean useIndexLFRUEviction</pre>
</li>
</ul>
<a id="indexLFUEvictionFactor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexLFUEvictionFactor</h4>
<pre>protected&nbsp;float indexLFUEvictionFactor</pre>
</li>
</ul>
<a id="ignoreMissingJournalfiles">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ignoreMissingJournalfiles</h4>
<pre>protected&nbsp;boolean ignoreMissingJournalfiles</pre>
</li>
</ul>
<a id="indexCacheSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexCacheSize</h4>
<pre>protected&nbsp;int indexCacheSize</pre>
</li>
</ul>
<a id="enableIndexDiskSyncs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enableIndexDiskSyncs</h4>
<pre>protected&nbsp;boolean enableIndexDiskSyncs</pre>
</li>
</ul>
<a id="enableIndexRecoveryFile">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enableIndexRecoveryFile</h4>
<pre>protected&nbsp;boolean enableIndexRecoveryFile</pre>
</li>
</ul>
<a id="enableIndexPageCaching">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enableIndexPageCaching</h4>
<pre>protected&nbsp;boolean enableIndexPageCaching</pre>
</li>
</ul>
<a id="archiveDataLogs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>archiveDataLogs</h4>
<pre>protected&nbsp;boolean archiveDataLogs</pre>
</li>
</ul>
<a id="purgeStoreOnStartup">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>purgeStoreOnStartup</h4>
<pre>protected&nbsp;boolean purgeStoreOnStartup</pre>
</li>
</ul>
<a id="directoryArchive">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>directoryArchive</h4>
<pre>protected&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html?is-external=true" title="class or interface in java.io" class="externalLink">File</a> directoryArchive</pre>
</li>
</ul>
<a id="opened">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>opened</h4>
<pre>protected&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="class or interface in java.util.concurrent.atomic" class="externalLink">AtomicBoolean</a> opened</pre>
</li>
</ul>
<a id="checkpointThread">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkpointThread</h4>
<pre>protected&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink">Thread</a> checkpointThread</pre>
</li>
</ul>
<a id="checkpointThreadLock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkpointThreadLock</h4>
<pre>protected final&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a> checkpointThreadLock</pre>
</li>
</ul>
<a id="checkpointLock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkpointLock</h4>
<pre>protected&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/locks/ReentrantReadWriteLock.html?is-external=true" title="class or interface in java.util.concurrent.locks" class="externalLink">ReentrantReadWriteLock</a> checkpointLock</pre>
</li>
</ul>
<a id="indexLock">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>indexLock</h4>
<pre>protected&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/locks/ReentrantReadWriteLock.html?is-external=true" title="class or interface in java.util.concurrent.locks" class="externalLink">ReentrantReadWriteLock</a> indexLock</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AbstractKahaDBStore</h4>
<pre>public&nbsp;AbstractKahaDBStore()</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getPageFileName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageFileName</h4>
<pre class="methodSignature">protected abstract&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;getPageFileName()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the name to give this store's PageFile instance.</dd>
</dl>
</li>
</ul>
<a id="getDefaultDataDirectory()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultDataDirectory</h4>
<pre class="methodSignature">protected abstract&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html?is-external=true" title="class or interface in java.io" class="externalLink">File</a>&nbsp;getDefaultDataDirectory()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the location of the data directory if no set by configuration.</dd>
</dl>
</li>
</ul>
<a id="load()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>load</h4>
<pre class="methodSignature">public abstract&nbsp;void&nbsp;load()
                   throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Loads the store from disk.

 Based on configuration this method can either load an existing store or it can purge
 an existing store and start in a clean state.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if an error occurs during the load.</dd>
</dl>
</li>
</ul>
<a id="unload()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unload</h4>
<pre class="methodSignature">public abstract&nbsp;void&nbsp;unload()
                     throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Unload the state of the Store to disk and shuts down all resources assigned to this
 KahaDB store implementation.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if an error occurs during the store unload.</dd>
</dl>
</li>
</ul>
<a id="doStart()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doStart</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;doStart()
                throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../util/ServiceSupport.html#doStart()">doStart</a></code>&nbsp;in class&nbsp;<code><a href="../../util/ServiceSupport.html" title="class in org.apache.activemq.util">ServiceSupport</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></code></dd>
</dl>
</li>
</ul>
<a id="doStop(org.apache.activemq.util.ServiceStopper)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doStop</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;doStop&#8203;(<a href="../../util/ServiceStopper.html" title="class in org.apache.activemq.util">ServiceStopper</a>&nbsp;stopper)
               throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../util/ServiceSupport.html#doStop(org.apache.activemq.util.ServiceStopper)">doStop</a></code>&nbsp;in class&nbsp;<code><a href="../../util/ServiceSupport.html" title="class in org.apache.activemq.util">ServiceSupport</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></code></dd>
</dl>
</li>
</ul>
<a id="getPageFile()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageFile</h4>
<pre class="methodSignature">public&nbsp;<a href="disk/page/PageFile.html" title="class in org.apache.activemq.store.kahadb.disk.page">PageFile</a>&nbsp;getPageFile()</pre>
</li>
</ul>
<a id="getJournal()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJournal</h4>
<pre class="methodSignature">public&nbsp;<a href="disk/journal/Journal.html" title="class in org.apache.activemq.store.kahadb.disk.journal">Journal</a>&nbsp;getJournal()
                   throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="getDirectory()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDirectory</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html?is-external=true" title="class or interface in java.io" class="externalLink">File</a>&nbsp;getDirectory()</pre>
</li>
</ul>
<a id="setDirectory(java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDirectory</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setDirectory&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html?is-external=true" title="class or interface in java.io" class="externalLink">File</a>&nbsp;directory)</pre>
</li>
</ul>
<a id="isArchiveCorruptedIndex()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isArchiveCorruptedIndex</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isArchiveCorruptedIndex()</pre>
</li>
</ul>
<a id="setArchiveCorruptedIndex(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setArchiveCorruptedIndex</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setArchiveCorruptedIndex&#8203;(boolean&nbsp;archiveCorruptedIndex)</pre>
</li>
</ul>
<a id="isFailIfDatabaseIsLocked()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isFailIfDatabaseIsLocked</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isFailIfDatabaseIsLocked()</pre>
</li>
</ul>
<a id="setFailIfDatabaseIsLocked(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFailIfDatabaseIsLocked</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setFailIfDatabaseIsLocked&#8203;(boolean&nbsp;failIfDatabaseIsLocked)</pre>
</li>
</ul>
<a id="isCheckForCorruptJournalFiles()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCheckForCorruptJournalFiles</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isCheckForCorruptJournalFiles()</pre>
</li>
</ul>
<a id="setCheckForCorruptJournalFiles(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCheckForCorruptJournalFiles</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setCheckForCorruptJournalFiles&#8203;(boolean&nbsp;checkForCorruptJournalFiles)</pre>
</li>
</ul>
<a id="getCheckpointInterval()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCheckpointInterval</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;getCheckpointInterval()</pre>
</li>
</ul>
<a id="setCheckpointInterval(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCheckpointInterval</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setCheckpointInterval&#8203;(long&nbsp;checkpointInterval)</pre>
</li>
</ul>
<a id="getCleanupInterval()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCleanupInterval</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;getCleanupInterval()</pre>
</li>
</ul>
<a id="setCleanupInterval(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCleanupInterval</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setCleanupInterval&#8203;(long&nbsp;cleanupInterval)</pre>
</li>
</ul>
<a id="setCleanupOnStop(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCleanupOnStop</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setCleanupOnStop&#8203;(boolean&nbsp;cleanupOnStop)</pre>
</li>
</ul>
<a id="getCleanupOnStop()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCleanupOnStop</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;getCleanupOnStop()</pre>
</li>
</ul>
<a id="isChecksumJournalFiles()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isChecksumJournalFiles</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isChecksumJournalFiles()</pre>
</li>
</ul>
<a id="setChecksumJournalFiles(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setChecksumJournalFiles</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setChecksumJournalFiles&#8203;(boolean&nbsp;checksumJournalFiles)</pre>
</li>
</ul>
<a id="isForceRecoverIndex()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isForceRecoverIndex</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isForceRecoverIndex()</pre>
</li>
</ul>
<a id="setForceRecoverIndex(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setForceRecoverIndex</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setForceRecoverIndex&#8203;(boolean&nbsp;forceRecoverIndex)</pre>
</li>
</ul>
<a id="getJournalMaxFileLength()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJournalMaxFileLength</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getJournalMaxFileLength()</pre>
</li>
</ul>
<a id="setJournalMaxFileLength(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setJournalMaxFileLength</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setJournalMaxFileLength&#8203;(int&nbsp;journalMaxFileLength)</pre>
</li>
</ul>
<a id="getJournalMaxWriteBatchSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJournalMaxWriteBatchSize</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getJournalMaxWriteBatchSize()</pre>
</li>
</ul>
<a id="setJournalMaxWriteBatchSize(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setJournalMaxWriteBatchSize</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setJournalMaxWriteBatchSize&#8203;(int&nbsp;journalMaxWriteBatchSize)</pre>
</li>
</ul>
<a id="isEnableIndexWriteAsync()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEnableIndexWriteAsync</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isEnableIndexWriteAsync()</pre>
</li>
</ul>
<a id="setEnableIndexWriteAsync(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEnableIndexWriteAsync</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setEnableIndexWriteAsync&#8203;(boolean&nbsp;enableIndexWriteAsync)</pre>
</li>
</ul>
<a id="isEnableJournalDiskSyncs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEnableJournalDiskSyncs</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isEnableJournalDiskSyncs()</pre>
</li>
</ul>
<a id="setEnableJournalDiskSyncs(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEnableJournalDiskSyncs</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setEnableJournalDiskSyncs&#8203;(boolean&nbsp;syncWrites)</pre>
</li>
</ul>
<a id="isDeleteAllJobs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDeleteAllJobs</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isDeleteAllJobs()</pre>
</li>
</ul>
<a id="setDeleteAllJobs(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDeleteAllJobs</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setDeleteAllJobs&#8203;(boolean&nbsp;deleteAllJobs)</pre>
</li>
</ul>
<a id="isArchiveDataLogs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isArchiveDataLogs</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isArchiveDataLogs()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the archiveDataLogs</dd>
</dl>
</li>
</ul>
<a id="setArchiveDataLogs(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setArchiveDataLogs</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setArchiveDataLogs&#8203;(boolean&nbsp;archiveDataLogs)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>archiveDataLogs</code> - the archiveDataLogs to set</dd>
</dl>
</li>
</ul>
<a id="getDirectoryArchive()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDirectoryArchive</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html?is-external=true" title="class or interface in java.io" class="externalLink">File</a>&nbsp;getDirectoryArchive()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the directoryArchive</dd>
</dl>
</li>
</ul>
<a id="setDirectoryArchive(java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDirectoryArchive</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setDirectoryArchive&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html?is-external=true" title="class or interface in java.io" class="externalLink">File</a>&nbsp;directoryArchive)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>directoryArchive</code> - the directoryArchive to set</dd>
</dl>
</li>
</ul>
<a id="getIndexCacheSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexCacheSize</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getIndexCacheSize()</pre>
</li>
</ul>
<a id="setIndexCacheSize(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIndexCacheSize</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setIndexCacheSize&#8203;(int&nbsp;indexCacheSize)</pre>
</li>
</ul>
<a id="getIndexWriteBatchSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexWriteBatchSize</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getIndexWriteBatchSize()</pre>
</li>
</ul>
<a id="setIndexWriteBatchSize(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIndexWriteBatchSize</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setIndexWriteBatchSize&#8203;(int&nbsp;indexWriteBatchSize)</pre>
</li>
</ul>
<a id="isUseIndexLFRUEviction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isUseIndexLFRUEviction</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isUseIndexLFRUEviction()</pre>
</li>
</ul>
<a id="setUseIndexLFRUEviction(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUseIndexLFRUEviction</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setUseIndexLFRUEviction&#8203;(boolean&nbsp;useIndexLFRUEviction)</pre>
</li>
</ul>
<a id="getIndexLFUEvictionFactor()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexLFUEvictionFactor</h4>
<pre class="methodSignature">public&nbsp;float&nbsp;getIndexLFUEvictionFactor()</pre>
</li>
</ul>
<a id="setIndexLFUEvictionFactor(float)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIndexLFUEvictionFactor</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setIndexLFUEvictionFactor&#8203;(float&nbsp;indexLFUEvictionFactor)</pre>
</li>
</ul>
<a id="isEnableIndexDiskSyncs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEnableIndexDiskSyncs</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isEnableIndexDiskSyncs()</pre>
</li>
</ul>
<a id="setEnableIndexDiskSyncs(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEnableIndexDiskSyncs</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setEnableIndexDiskSyncs&#8203;(boolean&nbsp;enableIndexDiskSyncs)</pre>
</li>
</ul>
<a id="isEnableIndexRecoveryFile()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEnableIndexRecoveryFile</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isEnableIndexRecoveryFile()</pre>
</li>
</ul>
<a id="setEnableIndexRecoveryFile(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEnableIndexRecoveryFile</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setEnableIndexRecoveryFile&#8203;(boolean&nbsp;enableIndexRecoveryFile)</pre>
</li>
</ul>
<a id="isEnableIndexPageCaching()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEnableIndexPageCaching</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isEnableIndexPageCaching()</pre>
</li>
</ul>
<a id="setEnableIndexPageCaching(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEnableIndexPageCaching</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setEnableIndexPageCaching&#8203;(boolean&nbsp;enableIndexPageCaching)</pre>
</li>
</ul>
<a id="isPurgeStoreOnStartup()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPurgeStoreOnStartup</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isPurgeStoreOnStartup()</pre>
</li>
</ul>
<a id="setPurgeStoreOnStartup(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPurgeStoreOnStartup</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setPurgeStoreOnStartup&#8203;(boolean&nbsp;purge)</pre>
</li>
</ul>
<a id="isIgnoreMissingJournalfiles()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isIgnoreMissingJournalfiles</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isIgnoreMissingJournalfiles()</pre>
</li>
</ul>
<a id="setIgnoreMissingJournalfiles(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIgnoreMissingJournalfiles</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setIgnoreMissingJournalfiles&#8203;(boolean&nbsp;ignoreMissingJournalfiles)</pre>
</li>
</ul>
<a id="size()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;size()</pre>
</li>
</ul>
<a id="createDefaultLocker()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createDefaultLocker</h4>
<pre class="methodSignature">public&nbsp;<a href="../../broker/Locker.html" title="interface in org.apache.activemq.broker">Locker</a>&nbsp;createDefaultLocker()
                           throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../broker/Lockable.html#createDefaultLocker()">Lockable</a></code></span></div>
<div class="block">Create a default locker</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>default locker</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="init()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;init()
          throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../broker/LockableServiceSupport.html#init()">LockableServiceSupport</a></code></span></div>
<div class="block">Initialize resources before locking</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../broker/LockableServiceSupport.html#init()">init</a></code>&nbsp;in class&nbsp;<code><a href="../../broker/LockableServiceSupport.html" title="class in org.apache.activemq.broker">LockableServiceSupport</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></code></dd>
</dl>
</li>
</ul>
<a id="store(org.apache.activemq.store.kahadb.JournalCommand)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>store</h4>
<pre class="methodSignature">public&nbsp;<a href="disk/journal/Location.html" title="class in org.apache.activemq.store.kahadb.disk.journal">Location</a>&nbsp;store&#8203;(<a href="JournalCommand.html" title="interface in org.apache.activemq.store.kahadb">JournalCommand</a>&lt;?&gt;&nbsp;command)
               throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Store a command in the Journal and process to update the Store index.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>command</code> - The specific JournalCommand to store and process.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if an error occurs storing or processing the command.</dd>
</dl>
</li>
</ul>
<a id="store(org.apache.activemq.store.kahadb.JournalCommand,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>store</h4>
<pre class="methodSignature">public&nbsp;<a href="disk/journal/Location.html" title="class in org.apache.activemq.store.kahadb.disk.journal">Location</a>&nbsp;store&#8203;(<a href="JournalCommand.html" title="interface in org.apache.activemq.store.kahadb">JournalCommand</a>&lt;?&gt;&nbsp;command,
                      boolean&nbsp;sync)
               throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Store a command in the Journal and process to update the Store index.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>command</code> - The specific JournalCommand to store and process.</dd>
<dd><code>sync</code> - Should the store operation be done synchronously. (ignored if completion passed).</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if an error occurs storing or processing the command.</dd>
</dl>
</li>
</ul>
<a id="store(org.apache.activemq.store.kahadb.JournalCommand,java.lang.Runnable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>store</h4>
<pre class="methodSignature">public&nbsp;<a href="disk/journal/Location.html" title="class in org.apache.activemq.store.kahadb.disk.journal">Location</a>&nbsp;store&#8203;(<a href="JournalCommand.html" title="interface in org.apache.activemq.store.kahadb">JournalCommand</a>&lt;?&gt;&nbsp;command,
                      <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Runnable</a>&nbsp;onJournalStoreComplete)
               throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Store a command in the Journal and process to update the Store index.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>command</code> - The specific JournalCommand to store and process.</dd>
<dd><code>onJournalStoreComplete</code> - The Runnable to call when the Journal write operation completes.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if an error occurs storing or processing the command.</dd>
</dl>
</li>
</ul>
<a id="store(org.apache.activemq.store.kahadb.JournalCommand,boolean,java.lang.Runnable,java.lang.Runnable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>store</h4>
<pre class="methodSignature">public&nbsp;<a href="disk/journal/Location.html" title="class in org.apache.activemq.store.kahadb.disk.journal">Location</a>&nbsp;store&#8203;(<a href="JournalCommand.html" title="interface in org.apache.activemq.store.kahadb">JournalCommand</a>&lt;?&gt;&nbsp;command,
                      boolean&nbsp;sync,
                      <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Runnable</a>&nbsp;before,
                      <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Runnable</a>&nbsp;after)
               throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Store a command in the Journal and process to update the Store index.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>command</code> - The specific JournalCommand to store and process.</dd>
<dd><code>sync</code> - Should the store operation be done synchronously. (ignored if completion passed).</dd>
<dd><code>before</code> - The Runnable instance to execute before performing the store and process operation.</dd>
<dd><code>after</code> - The Runnable instance to execute after performing the store and process operation.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if an error occurs storing or processing the command.</dd>
</dl>
</li>
</ul>
<a id="store(org.apache.activemq.store.kahadb.JournalCommand,boolean,java.lang.Runnable,java.lang.Runnable,java.lang.Runnable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>store</h4>
<pre class="methodSignature">public&nbsp;<a href="disk/journal/Location.html" title="class in org.apache.activemq.store.kahadb.disk.journal">Location</a>&nbsp;store&#8203;(<a href="JournalCommand.html" title="interface in org.apache.activemq.store.kahadb">JournalCommand</a>&lt;?&gt;&nbsp;command,
                      boolean&nbsp;sync,
                      <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Runnable</a>&nbsp;before,
                      <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Runnable</a>&nbsp;after,
                      <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Runnable</a>&nbsp;onJournalStoreComplete)
               throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">All updated are are funneled through this method. The updates are converted to a
 JournalMessage which is logged to the journal and then the data from the JournalMessage
 is used to update the index just like it would be done during a recovery process.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>command</code> - The specific JournalCommand to store and process.</dd>
<dd><code>sync</code> - Should the store operation be done synchronously. (ignored if completion passed).</dd>
<dd><code>before</code> - The Runnable instance to execute before performing the store and process operation.</dd>
<dd><code>after</code> - The Runnable instance to execute after performing the store and process operation.</dd>
<dd><code>onJournalStoreComplete</code> - Callback to be run when the journal write operation is complete.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if an error occurs storing or processing the command.</dd>
</dl>
</li>
</ul>
<a id="load(org.apache.activemq.store.kahadb.disk.journal.Location)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>load</h4>
<pre class="methodSignature">protected&nbsp;<a href="JournalCommand.html" title="interface in org.apache.activemq.store.kahadb">JournalCommand</a>&lt;?&gt;&nbsp;load&#8203;(<a href="disk/journal/Location.html" title="class in org.apache.activemq.store.kahadb.disk.journal">Location</a>&nbsp;location)
                          throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Loads a previously stored JournalMessage</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>location</code> - The location of the journal command to read.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new un-marshaled JournalCommand instance.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if an error occurs reading the stored command.</dd>
</dl>
</li>
</ul>
<a id="process(org.apache.activemq.store.kahadb.JournalCommand,org.apache.activemq.store.kahadb.disk.journal.Location)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>process</h4>
<pre class="methodSignature">protected abstract&nbsp;void&nbsp;process&#8203;(<a href="JournalCommand.html" title="interface in org.apache.activemq.store.kahadb">JournalCommand</a>&lt;?&gt;&nbsp;command,
                                <a href="disk/journal/Location.html" title="class in org.apache.activemq.store.kahadb.disk.journal">Location</a>&nbsp;location)
                         throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Process a stored or recovered JournalCommand instance and update the DB Index with the
 state changes that this command produces.  This can be called either as a new DB operation
 or as a replay during recovery operations.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>command</code> - The JournalCommand to process.</dd>
<dd><code>location</code> - The location in the Journal where the command was written or read from.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="checkpointUpdate(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkpointUpdate</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;checkpointUpdate&#8203;(boolean&nbsp;cleanup)
                         throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Perform a checkpoint operation with optional cleanup.

 Called by the checkpoint background thread periodically to initiate a checkpoint operation
 and if the cleanup flag is set a cleanup sweep should be done to allow for release of no
 longer needed journal log files etc.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cleanup</code> - Should the method do a simple checkpoint or also perform a journal cleanup.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if an error occurs during the checkpoint operation.</dd>
</dl>
</li>
</ul>
<a id="checkpointUpdate(org.apache.activemq.store.kahadb.disk.page.Transaction,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkpointUpdate</h4>
<pre class="methodSignature">protected abstract&nbsp;void&nbsp;checkpointUpdate&#8203;(<a href="disk/page/Transaction.html" title="class in org.apache.activemq.store.kahadb.disk.page">Transaction</a>&nbsp;tx,
                                         boolean&nbsp;cleanup)
                                  throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Perform the checkpoint update operation.  If the cleanup flag is true then the
 operation should also purge any unused Journal log files.

 This method must always be called with the checkpoint and index write locks held.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tx</code> - The TX under which to perform the checkpoint update.</dd>
<dd><code>cleanup</code> - Should the checkpoint also do unused Journal file cleanup.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if an error occurs while performing the checkpoint.</dd>
</dl>
</li>
</ul>
<a id="toByteSequence(org.apache.activemq.store.kahadb.JournalCommand)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toByteSequence</h4>
<pre class="methodSignature">protected&nbsp;<a href="../../util/ByteSequence.html" title="class in org.apache.activemq.util">ByteSequence</a>&nbsp;toByteSequence&#8203;(<a href="JournalCommand.html" title="interface in org.apache.activemq.store.kahadb">JournalCommand</a>&lt;?&gt;&nbsp;data)
                               throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Creates a new ByteSequence that represents the marshaled form of the given Journal Command.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - The Journal Command that should be marshaled to bytes for writing.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the byte representation of the given journal command.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if an error occurs while serializing the command.</dd>
</dl>
</li>
</ul>
<a id="createPageFile()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createPageFile</h4>
<pre class="methodSignature">protected&nbsp;<a href="disk/page/PageFile.html" title="class in org.apache.activemq.store.kahadb.disk.page">PageFile</a>&nbsp;createPageFile()</pre>
<div class="block">Create the PageFile instance and configure it using the configuration options
 currently set.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the newly created and configured PageFile instance.</dd>
</dl>
</li>
</ul>
<a id="createJournal()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createJournal</h4>
<pre class="methodSignature">protected&nbsp;<a href="disk/journal/Journal.html" title="class in org.apache.activemq.store.kahadb.disk.journal">Journal</a>&nbsp;createJournal()
                         throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Create a new Journal instance and configure it using the currently set configuration
 options.  If an archive directory is configured than this method will attempt to create
 that directory if it does not already exist.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the newly created an configured Journal instance.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if an error occurs while creating the Journal object.</dd>
</dl>
</li>
</ul>
<a id="startCheckpoint()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startCheckpoint</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;startCheckpoint()</pre>
<div class="block">Starts the checkpoint Thread instance if not already running and not disabled
 by configuration.</div>
</li>
</ul>
<a id="checkpointCleanup(boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>checkpointCleanup</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;checkpointCleanup&#8203;(boolean&nbsp;cleanup)
                          throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Called from the worker thread to start a checkpoint.

 This method ensure that the store is in an opened state and optionaly logs information
 related to slow store access times.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cleanup</code> - Should a cleanup of the journal occur during the checkpoint operation.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if an error occurs during the checkpoint operation.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractKahaDBStore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2005&#x2013;2022 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
