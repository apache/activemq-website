<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<link rel="icon" type="image/png" href="images/favicon.png">
<title>Graceful Server Shutdown</title>
<link rel="stylesheet" href="css/asciidoctor.css">
<link rel="stylesheet" href="css/font-awesome.css">
</head>
<body class="book">
<div id="header">
<h1>Graceful Server Shutdown</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In certain circumstances an administrator might not want to disconnect all clients immediately when stopping the broker.
In this situation the broker can be configured to shutdown <em>gracefully</em> using the <code>graceful-shutdown-enabled</code> boolean configuration parameter.</p>
</div>
<div class="paragraph">
<p>When the <code>graceful-shutdown-enabled</code> configuration parameter is <code>true</code> and the broker is shutdown it will first prevent any additional clients from connecting and then it will wait for any existing connections to be terminated by the client before completing the shutdown process.
The default value is <code>false</code>.</p>
</div>
<div class="paragraph">
<p>Of course, it&#8217;s possible a client could keep a connection to the broker indefinitely effectively preventing the broker from shutting down gracefully.
To deal with this of situation the <code>graceful-shutdown-timeout</code> configuration parameter is available.
This tells the broker (in milliseconds) how long to wait for all clients to disconnect before forcefully disconnecting the clients and proceeding with the shutdown process.
The default value is <code>-1</code> which means the broker will wait indefinitely for clients to disconnect.</p>
</div>
</div>
</div>
</div>
</body>
</html>