<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Using the Server | ActiveMQ Artemis Documentation</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.1.0">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
    

        
    
    
    <link rel="next" href="./using-jms.html" />
    
    
    <link rel="prev" href="./architecture.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="6" data-basepath="." data-revision="Wed Sep 23 2015 12:51:51 GMT+0100 (BST)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="notice.html">
            
                
                    <a href="./notice.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Legal Notice
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="preface.html">
            
                
                    <a href="./preface.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Preface
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="project-info.html">
            
                
                    <a href="./project-info.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Project Info
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="messaging-concepts.html">
            
                
                    <a href="./messaging-concepts.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Messaging Concepts
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="architecture.html">
            
                
                    <a href="./architecture.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Architecture
                    </a>
                
            
            
        </li>
    
        <li class="chapter active" data-level="6" data-path="using-server.html">
            
                
                    <a href="./using-server.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Using the Server
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="using-jms.html">
            
                
                    <a href="./using-jms.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Using JMS
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="8" data-path="using-core.html">
            
                
                    <a href="./using-core.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Using Core
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="9" data-path="jms-core-mapping.html">
            
                
                    <a href="./jms-core-mapping.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        Mapping JMS Concepts to the Core API
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="10" data-path="client-classpath.html">
            
                
                    <a href="./client-classpath.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        The Client Classpath
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="11" data-path="examples.html">
            
                
                    <a href="./examples.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                        Examples
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="12" data-path="wildcard-routing.html">
            
                
                    <a href="./wildcard-routing.html">
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        Routing Messages With Wild Cards
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="13" data-path="wildcard-syntax.html">
            
                
                    <a href="./wildcard-syntax.html">
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                        Understanding the Apache ActiveMQ Artemis Wildcard Syntax
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="14" data-path="filter-expressions.html">
            
                
                    <a href="./filter-expressions.html">
                        <i class="fa fa-check"></i>
                        
                            <b>14.</b>
                        
                        Filter Expressions
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="15" data-path="persistence.html">
            
                
                    <a href="./persistence.html">
                        <i class="fa fa-check"></i>
                        
                            <b>15.</b>
                        
                        Persistence
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="16" data-path="configuring-transports.html">
            
                
                    <a href="./configuring-transports.html">
                        <i class="fa fa-check"></i>
                        
                            <b>16.</b>
                        
                        Configuring Transports
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="17" data-path="connection-ttl.html">
            
                
                    <a href="./connection-ttl.html">
                        <i class="fa fa-check"></i>
                        
                            <b>17.</b>
                        
                        Detecting Dead Connections
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="18" data-path="slow-consumers.html">
            
                
                    <a href="./slow-consumers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>18.</b>
                        
                        Detecting Slow Consumers
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="19" data-path="transaction-config.html">
            
                
                    <a href="./transaction-config.html">
                        <i class="fa fa-check"></i>
                        
                            <b>19.</b>
                        
                        Resource Manager Configuration
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="20" data-path="flow-control.html">
            
                
                    <a href="./flow-control.html">
                        <i class="fa fa-check"></i>
                        
                            <b>20.</b>
                        
                        Flow Control
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="21" data-path="send-guarantees.html">
            
                
                    <a href="./send-guarantees.html">
                        <i class="fa fa-check"></i>
                        
                            <b>21.</b>
                        
                        Guarantees of sends and commits
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="22" data-path="undelivered-messages.html">
            
                
                    <a href="./undelivered-messages.html">
                        <i class="fa fa-check"></i>
                        
                            <b>22.</b>
                        
                        Message Redelivery and Undelivered Messages
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="23" data-path="message-expiry.html">
            
                
                    <a href="./message-expiry.html">
                        <i class="fa fa-check"></i>
                        
                            <b>23.</b>
                        
                        Message Expiry
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="24" data-path="large-messages.html">
            
                
                    <a href="./large-messages.html">
                        <i class="fa fa-check"></i>
                        
                            <b>24.</b>
                        
                        Large Messages
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="25" data-path="paging.html">
            
                
                    <a href="./paging.html">
                        <i class="fa fa-check"></i>
                        
                            <b>25.</b>
                        
                        Paging
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="26" data-path="queue-attributes.html">
            
                
                    <a href="./queue-attributes.html">
                        <i class="fa fa-check"></i>
                        
                            <b>26.</b>
                        
                        Queue Attributes
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="27" data-path="scheduled-messages.html">
            
                
                    <a href="./scheduled-messages.html">
                        <i class="fa fa-check"></i>
                        
                            <b>27.</b>
                        
                        Scheduled Messages
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="28" data-path="last-value-queues.html">
            
                
                    <a href="./last-value-queues.html">
                        <i class="fa fa-check"></i>
                        
                            <b>28.</b>
                        
                        Last-Value Queues
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="29" data-path="message-grouping.html">
            
                
                    <a href="./message-grouping.html">
                        <i class="fa fa-check"></i>
                        
                            <b>29.</b>
                        
                        Message Grouping
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="30" data-path="pre-acknowledge.html">
            
                
                    <a href="./pre-acknowledge.html">
                        <i class="fa fa-check"></i>
                        
                            <b>30.</b>
                        
                        Extra Acknowledge Modes
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="31" data-path="management.html">
            
                
                    <a href="./management.html">
                        <i class="fa fa-check"></i>
                        
                            <b>31.</b>
                        
                        Management
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="32" data-path="security.html">
            
                
                    <a href="./security.html">
                        <i class="fa fa-check"></i>
                        
                            <b>32.</b>
                        
                        Security
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="33" data-path="resource-limits.html">
            
                
                    <a href="./resource-limits.html">
                        <i class="fa fa-check"></i>
                        
                            <b>33.</b>
                        
                        Resource Limits
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="34" data-path="jms-bridge.html">
            
                
                    <a href="./jms-bridge.html">
                        <i class="fa fa-check"></i>
                        
                            <b>34.</b>
                        
                        The JMS Bridge
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="35" data-path="client-reconnection.html">
            
                
                    <a href="./client-reconnection.html">
                        <i class="fa fa-check"></i>
                        
                            <b>35.</b>
                        
                        Client Reconnection and Session Reattachment
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="36" data-path="diverts.html">
            
                
                    <a href="./diverts.html">
                        <i class="fa fa-check"></i>
                        
                            <b>36.</b>
                        
                        Diverting and Splitting Message Flows
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="37" data-path="core-bridges.html">
            
                
                    <a href="./core-bridges.html">
                        <i class="fa fa-check"></i>
                        
                            <b>37.</b>
                        
                        Core Bridges
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="38" data-path="duplicate-detection.html">
            
                
                    <a href="./duplicate-detection.html">
                        <i class="fa fa-check"></i>
                        
                            <b>38.</b>
                        
                        Duplicate Message Detection
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="39" data-path="clusters.html">
            
                
                    <a href="./clusters.html">
                        <i class="fa fa-check"></i>
                        
                            <b>39.</b>
                        
                        Clusters
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="40" data-path="ha.html">
            
                
                    <a href="./ha.html">
                        <i class="fa fa-check"></i>
                        
                            <b>40.</b>
                        
                        High Availability and Failover
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="41" data-path="graceful-shutdown.html">
            
                
                    <a href="./graceful-shutdown.html">
                        <i class="fa fa-check"></i>
                        
                            <b>41.</b>
                        
                        Graceful Server Shutdown
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="42" data-path="libaio.html">
            
                
                    <a href="./libaio.html">
                        <i class="fa fa-check"></i>
                        
                            <b>42.</b>
                        
                        Libaio Native Libraries
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="43" data-path="thread-pooling.html">
            
                
                    <a href="./thread-pooling.html">
                        <i class="fa fa-check"></i>
                        
                            <b>43.</b>
                        
                        Thread management
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="44" data-path="logging.html">
            
                
                    <a href="./logging.html">
                        <i class="fa fa-check"></i>
                        
                            <b>44.</b>
                        
                        Logging
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="45" data-path="rest.html">
            
                
                    <a href="./rest.html">
                        <i class="fa fa-check"></i>
                        
                            <b>45.</b>
                        
                        REST Interface
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="46" data-path="embedding-activemq.html">
            
                
                    <a href="./embedding-activemq.html">
                        <i class="fa fa-check"></i>
                        
                            <b>46.</b>
                        
                        Embedding Apache ActiveMQ Artemis
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="47" data-path="spring-integration.html">
            
                
                    <a href="./spring-integration.html">
                        <i class="fa fa-check"></i>
                        
                            <b>47.</b>
                        
                        Spring Integration
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="48" data-path="aerogear-integration.html">
            
                
                    <a href="./aerogear-integration.html">
                        <i class="fa fa-check"></i>
                        
                            <b>48.</b>
                        
                        AeroGear Integration
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="49" data-path="vertx-integration.html">
            
                
                    <a href="./vertx-integration.html">
                        <i class="fa fa-check"></i>
                        
                            <b>49.</b>
                        
                        VertX Integration
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="50" data-path="intercepting-operations.html">
            
                
                    <a href="./intercepting-operations.html">
                        <i class="fa fa-check"></i>
                        
                            <b>50.</b>
                        
                        Intercepting Operations
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="51" data-path="protocols-interoperability.html">
            
                
                    <a href="./protocols-interoperability.html">
                        <i class="fa fa-check"></i>
                        
                            <b>51.</b>
                        
                        Protocols and Interoperability
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="52" data-path="tools.html">
            
                
                    <a href="./tools.html">
                        <i class="fa fa-check"></i>
                        
                            <b>52.</b>
                        
                        Tools
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="53" data-path="maven-plugin.html">
            
                
                    <a href="./maven-plugin.html">
                        <i class="fa fa-check"></i>
                        
                            <b>53.</b>
                        
                        Maven Plugin
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="54" data-path="perf-tuning.html">
            
                
                    <a href="./perf-tuning.html">
                        <i class="fa fa-check"></i>
                        
                            <b>54.</b>
                        
                        Troubleshooting and Performance Tuning
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="55" data-path="configuration-index.html">
            
                
                    <a href="./configuration-index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>55.</b>
                        
                        Configuration Reference
                    </a>
                
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    
    


    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >ActiveMQ Artemis Documentation</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="using-the-server">Using the Server</h1>
<p>This chapter will familiarise you with how to use the Apache ActiveMQ Artemis server.</p>
<p>We&apos;ll show where it is, how to start and stop it, and we&apos;ll describe the
directory layout and what all the files are and what they do.</p>
<p>For the remainder of this chapter when we talk about the Apache ActiveMQ Artemis server
we mean the Apache ActiveMQ Artemis standalone server, in its default configuration
with a JMS Service enabled.</p>
<p>This document will refer to the full path of the directory where the ActiveMQ
distribution has been extracted to as <code>${ARTEMIS_HOME}</code> directory.</p>
<h1 id="installation">Installation</h1>
<p>After downloading the distribution, the following highlights some important folders on the distribution:</p>
<pre><code>         |___ bin
         |
         |___ web
         |      |___ user-manual
         |      |___ api
         |
         |___ examples
         |      |___ core
         |      |___ javaee
         |      |___ jms
         |
         |___ lib
         |
         |___ schema
</code></pre><ul>
<li><p><code>bin</code> -- binaries and scripts needed to run ActiveMQ Artemis.</p>
</li>
<li><p><code>web</code> -- The folder where the web context is loaded when ActiveMQ Artemis runs.</p>
</li>
<li><p><code>user-manual</code> -- The user manual is placed under the web folder.</p>
</li>
<li><p><code>api</code> -- The api documentation is placed under the web folder</p>
</li>
<li><p><code>examples</code> -- JMS and Java EE examples. Please refer to the &apos;running
examples&apos; chapter for details on how to run them.</p>
</li>
<li><p><code>lib</code> -- jars and libraries needed to run ActiveMQ Artemis</p>
</li>
<li><p><code>licenses</code> -- licenses for ActiveMQ Artemis</p>
</li>
<li><p><code>schemas</code> -- XML Schemas used to validate ActiveMQ Artemis configuration
files</p>
</li>
</ul>
<h2 id="creating-a-broker-instance">Creating a Broker Instance</h2>
<p>A broker instance is the directory containing all the configuration and runtime
data, such as logs and data files, associated with a broker process.  It is recommended that
you do <em>not</em> create the instance directory under <code>${ARTEMIS_HOME}</code>.  This separation is
encouraged so that you can more easily upgrade when the next version of ActiveMQ Artemis is released.</p>
<p>On Unix systems, it is a common convention to store this kind of runtime data under
the <code>/var/lib</code> directory.  For example, to create an instance at &apos;/var/lib/mybroker&apos;, run
the following commands in your command line shell:</p>
<pre><code>cd /var/lib
${ARTEMIS_HOME}/bin/activemq create mybroker
</code></pre><p>A broker instance directory will contain the following sub directories:</p>
<ul>
<li><code>bin</code>: holds execution scripts associated with this instance.</li>
<li><code>etc</code>: hold the instance configuration files</li>
<li><code>data</code>: holds the data files used for storing persistent messages</li>
<li><code>log</code>: holds rotating log files</li>
<li><code>tmp</code>: holds temporary files that are safe to delete between broker runs</li>
</ul>
<p>At this point you may want to adjust the default configuration located in
the <code>etc</code> directory.</p>
<h3 id="options">Options</h3>
<p>There are several options you can use when creating an instance.</p>
<p>For a full list of updated properties always use:</p>
<pre><code> $./artemis help create
 NAME
         artemis create - creates a new broker instance

 SYNOPSIS
         artemis create [--allow-anonymous]
                 [--cluster-password &lt;clusterPassword&gt;] [--cluster-user &lt;clusterUser&gt;]
                 [--clustered] [--data &lt;data&gt;] [--encoding &lt;encoding&gt;] [--force]
                 [--home &lt;home&gt;] [--host &lt;host&gt;] [--java-options &lt;javaOptions&gt;]
                 [--password &lt;password&gt;] [--port-offset &lt;portOffset&gt;] [--replicated]
                 [--role &lt;role&gt;] [--shared-store] [--silent] [--user &lt;user&gt;] [--]
                 &lt;directory&gt;

 OPTIONS
         --allow-anonymous
             Enables anonymous configuration on security (Default: input)

         --cluster-password &lt;clusterPassword&gt;
             The cluster password to use for clustering. (Default: input)

         --cluster-user &lt;clusterUser&gt;
             The cluster user to use for clustering. (Default: input)

         --clustered
             Enable clustering

         --data &lt;data&gt;
             Directory where ActiveMQ Data is used. Path are relative to
             artemis.instance/bin

         --encoding &lt;encoding&gt;
             The encoding that text files should use

         --force
             Overwrite configuration at destination directory

         --home &lt;home&gt;
             Directory where ActiveMQ Artemis is installed

         --host &lt;host&gt;
             The host name of the broker (Default: 0.0.0.0 or input if clustered)

         --java-options &lt;javaOptions&gt;
             Extra java options to be passed to the profile

         --password &lt;password&gt;
             The user&apos;s password (Default: input)

         --port-offset &lt;portOffset&gt;
             Off sets the default ports

         --replicated
             Enable broker replication

         --role &lt;role&gt;
             The name for the role created (Default: amq)

         --shared-store
             Enable broker shared store

         --silent
             It will disable all the inputs, and it would make a best guess for
             any required input

         --user &lt;user&gt;
             The username (Default: input)

         --
             This option can be used to separate command-line options from the
             list of argument, (useful when arguments might be mistaken for
             command-line options

         &lt;directory&gt;
             The instance directory to hold the broker&apos;s configuration and data
</code></pre><p>Some of these properties may be mandatory in certain configurations and the system may ask you for additional input.</p>
<pre><code>    ./artemis create /usr/server
    Creating ActiveMQ Artemis instance at: /user/server

    --user: is mandatory with this configuration:
    Please provide the default username:
    admin

    --password: is mandatory with this configuration:
    Please provide the default password:


    --allow-anonymous: is mandatory with this configuration:
    Allow anonymous access? (Y/N):
    y

    You can now start the broker by executing:

       &quot;/user/server/bin/artemis&quot; run

    Or you can run the broker in the background using:

       &quot;/user/server/bin/artemis-service&quot; start
</code></pre><h3 id="starting-and-stopping-a-broker-instance">Starting and Stopping a Broker Instance</h3>
<p>Assuming you created the broker instance under <code>/var/lib/mybroker</code> all you need
to do start running the broker instance is execute:</p>
<pre><code>/var/lib/mybroker/bin/activemq run
</code></pre><p>Now that the broker is running, you can optionally run some of the included
examples to verify the the broker is running properly.</p>
<p>To stop the Apache ActiveMQ Artemis instance you will use the same <code>activemq</code> script, but with
the <code>stop argument</code>.  Example:</p>
<pre><code>/var/lib/mybroker/bin/activemq stop
</code></pre><p>Please note that Apache ActiveMQ Artemis requires a Java 7 or later runtime to run.</p>
<p>By default the <code>etc/bootstrap.xml</code> configuration is
used. The configuration can be changed e.g. by running
<code>./activemq run -- xml:path/to/bootstrap.xml</code> or another
config of your choosing.</p>
<p>Environment variables are used to provide ease of changing ports, hosts and
data directories used and can be found in <code>etc/activemq.profile</code> on linux and
<code>etc\activemq.profile.cmd</code> on Windows.</p>
<h2 id="server-jvm-settings">Server JVM settings</h2>
<p>The run scripts set some JVM settings for tuning the garbage collection
policy and heap size. We recommend using a parallel garbage collection
algorithm to smooth out latency and minimise large GC pauses.</p>
<p>By default Apache ActiveMQ Artemis runs in a maximum of 1GiB of RAM. To increase the
memory settings change the <code>-Xms</code> and <code>-Xmx</code> memory settings as you
would for any Java program.</p>
<p>If you wish to add any more JVM arguments or tune the existing ones, the
run scripts are the place to do it.</p>
<h2 id="pre-configured-options">Pre-configured Options</h2>
<p>The distribution contains several standard configuration sets for
running:</p>
<ul>
<li><p>Non clustered stand-alone.</p>
</li>
<li><p>Clustered stand-alone</p>
</li>
<li><p>Replicated stand-alone</p>
</li>
<li><p>Shared-store stand-alone</p>
</li>
</ul>
<p>You can of course create your own configuration and specify any
configuration when running the run script.</p>
<h2 id="library-path">Library Path</h2>
<p>If you&apos;re using the <a href="libaio.html">Asynchronous IO Journal</a> on Linux,
you need to specify <code>java.library.path</code> as a property on your Java
options. This is done automatically in the scripts.</p>
<p>If you don&apos;t specify <code>java.library.path</code> at your Java options then the
JVM will use the environment variable <code>LD_LIBRARY_PATH</code>.</p>
<p>You will need to make sure libaio is installed on Linux. For more information refer to the libaio chapter at
<a href="libaio.html#runtime-dependencies">Runtime Dependencies</a></p>
<h2 id="system-properties">System properties</h2>
<p>Apache ActiveMQ Artemis can take a system property on the command line for configuring
logging.</p>
<p>For more information on configuring logging, please see the section on
<a href="logging.html">Logging</a>.</p>
<h2 id="configuration-files">Configuration files</h2>
<p>The configuration file used to bootstrap the server (e.g.
<code>bootstrap.xml</code> by default) references the specific broker configuration
files.</p>
<ul>
<li><code>broker.xml</code>. This is the main ActiveMQ
configuration file. All the parameters in this file are
described <a href="configuration-index.html">here</a></li>
</ul>
<p>It is also possible to use system property substitution in all the
configuration files. by replacing a value with the name of a system
property. Here is an example of this with a connector configuration:</p>
<pre><code>&lt;connector name=&quot;netty&quot;&gt;tcp://${activemq.remoting.netty.host:localhost}:${activemq.remoting.netty.port:61616}&lt;/connector&gt;
</code></pre><p>Here you can see we have replaced 2 values with system properties
<code>activemq.remoting.netty.host</code> and <code>activemq.remoting.netty.port</code>. These
values will be replaced by the value found in the system property if
there is one, if not they default back to localhost or 61616
respectively. It is also possible to not supply a default. i.e.
<code>${activemq.remoting.netty.host}</code>, however the system property <em>must</em> be
supplied in that case.</p>
<h2 id="bootstrap-file">Bootstrap File</h2>
<p>The stand-alone server is basically a set of POJOs which are
instantiated by Airline commands.</p>
<p>The bootstrap file is very simple. Let&apos;s take a look at an example:</p>
<pre><code>&lt;broker xmlns=&quot;http://activemq.org/schema&quot;&gt;

   &lt;file:core configuration=&quot;${activemq.home}/config/stand-alone/non-clustered/broker.xml&quot;&gt;&lt;/core&gt;

   &lt;basic-security/&gt;

&lt;/broker&gt;
</code></pre><ul>
<li>core - Instantiates a core server using the configuration file from the
<code>configuration</code> attribute. This is the main broker POJO necessary to
do all the real messaging work.  In addition all JMS objects such as:
Queues, Topics and ConnectionFactory instances are configured here.</li>
</ul>
<h2 id="the-main-configuration-file">The main configuration file.</h2>
<p>The configuration for the Apache ActiveMQ Artemis core server is contained in
<code>broker.xml</code>. This is what the FileConfiguration bean
uses to configure the messaging server.</p>
<p>There are many attributes which you can configure Apache ActiveMQ Artemis. In most
cases the defaults will do fine, in fact every attribute can be
defaulted which means a file with a single empty <code>configuration</code> element
is a valid configuration file. The different configuration will be
explained throughout the manual or you can refer to the configuration
reference <a href="configuration-index.html">here</a>.</p>
<h1 id="windows-server">Windows Server</h1>
<p>On windows you will have the option to run ActiveMQ Artemis as a service.
Just use the following command to install it:</p>
<pre><code> $ ./artemis-service.exe install
</code></pre><p>The create process should give you a hint of the available commands available for the artemis-service.exe</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./architecture.html" class="navigation navigation-prev " aria-label="Previous page: Architecture"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./using-jms.html" class="navigation navigation-next " aria-label="Next page: Using JMS"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
